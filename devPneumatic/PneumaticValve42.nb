(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    101615,       2143]
NotebookOptionsPosition[     97866,       2036]
NotebookOutlinePosition[     98519,       2058]
CellTagsIndexPosition[     98476,       2055]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Valve42", "Section",
 CellChangeTimes->{{3.5353721095590158`*^9, 3.53537211830196*^9}, 
   3.5353722343957663`*^9, {3.8036340525046444`*^9, 3.8036340541474895`*^9}, 
   3.803881178343158*^9, 3.8042501406479216`*^9, 3.804273527535226*^9, {
   3.804329442880397*^9, 3.804329445883741*^9}, 
   3.8048574830449095`*^9},ExpressionUUID->"a8f57cf9-7f46-4f7f-baf1-\
14fe362c0648"],

Cell[BoxData[
 RowBox[{"<<", "C:\\\\Hopsan\\Compgen\\CompgenNG.mx"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.525533906765625*^9, 3.525533914734375*^9}, 
   3.577601924150117*^9, 3.753532820170209*^9, 3.753532868377143*^9, 
   3.762728078322752*^9},
 ExpressionUUID -> "844b3beb-a2fd-4fc9-87e6-b4719622a54d"],

Cell["This path is pointing to where the file should be generated", "Text",
 CellChangeTimes->{{3.804746787277581*^9, 
  3.8047468131049385`*^9}},ExpressionUUID->"d841070d-8477-431e-b63d-\
f1e54cda9d7b"],

Cell[BoxData["\<\"H:\\\\PettersDropbox\\\\Dropbox\\\\HopsanComponents\\\\\
PneumaticDevelop\\\\PneumaticComponents\\\\\"\>"], "Output",
 CellChangeTimes->{3.8045956967664948`*^9, 3.8045988882774363`*^9, 
  3.804599021844661*^9, 3.804757553946481*^9, 3.8047576859049883`*^9, 
  3.8048377732989707`*^9, 3.8048378209927735`*^9, 3.8048379130278387`*^9, 
  3.804853738418406*^9, 3.804857181747699*^9, 3.804920337376981*^9, 
  3.8049212832728124`*^9, 3.8049213813076887`*^9, 3.805014808070986*^9, 
  3.805014992970668*^9, 3.8050243175592833`*^9},
 ExpressionUUID -> "439b81bd-ad7d-4618-ba96-da8feb512e81"],

Cell[BoxData[
 RowBox[{
  RowBox[{"path", "=", 
   RowBox[{"ToFileName", "[", 
    RowBox[{"{", 
     RowBox[{
     "\"\<C:\>\"", ",", "\"\<Users\>\"", ",", "\"\<petkr14\>\"", ",", 
      "\"\<Dropbox\>\"", ",", "\"\<HopsanComponents\>\"", ",", 
      "\"\<PneumaticDevelop\>\"", ",", "\"\<PneumaticComponents\>\""}], "}"}],
     "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.8036224011917915`*^9, 3.80362242280663*^9}, 
   3.804935035606517*^9, 3.805455735116706*^9},
 ExpressionUUID -> "9fffce38-6c31-4ac2-8fe0-709b9320587f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"path", "=", 
   RowBox[{"ToFileName", "[", 
    RowBox[{"{", 
     RowBox[{
     "\"\<H:\>\"", ",", "\"\<PettersDropbox\>\"", ",", "\"\<Dropbox\>\"", 
      ",", "\"\<HopsanComponents\>\"", ",", "\"\<PneumaticDevelop\>\"", ",", 
      "\"\<PneumaticComponents\>\""}], "}"}], "]"}]}], ";"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.754985113560959*^9, 3.754985114033472*^9}, {
   3.757063485852047*^9, 3.757063485995899*^9}, 3.76272807832475*^9, {
   3.7747826878685503`*^9, 3.774782689771587*^9}, {3.7747982976294117`*^9, 
   3.774798305629897*^9}, {3.803622448189187*^9, 3.8036224560248623`*^9}, 
   3.804935034426733*^9, 3.8054557323076034`*^9},
 ExpressionUUID -> "b1a17ebe-ca25-48b4-8480-1a36ba699ce9"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"domain", "=", "\"\<Pneumatic\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{"displayName", "=", "\"\<Valve42\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{"brief", "=", "\"\<Pneumatic 42-valve\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{"componentType", "=", "\"\<ComponentQ\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
  "author", "=", 
   "\"\<Petter Krus*<petter.krus@liu.se>, Victor Juliano De Negri** \
<victor.de.negri@ufsc.br>\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
  "affiliation", " ", "=", " ", 
   "\"\<*IEI/Flumes, Link\[ODoubleDot]ping University, **Universidade Federal \
de Santa Catarina\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetFilenames", "[", 
   RowBox[{"path", ",", "domain", ",", "displayName"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ResetComponentVariables", "[", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Date", "[", "]"}]}], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.},
 CellChangeTimes->{{3.513785360140625*^9, 3.513785397734375*^9}, 
   3.5137854683125*^9, 3.5153945210188417`*^9, {3.51608651940625*^9, 
   3.516086528875*^9}, {3.516356859703125*^9, 3.516356873*^9}, {
   3.5353705928437004`*^9, 3.5353705930310946`*^9}, {3.535528004859375*^9, 
   3.535528013828125*^9}, 3.5757768090335207`*^9, {3.6058649145952826`*^9, 
   3.6058649172112823`*^9}, 3.6266921123196993`*^9, {3.8036340643406515`*^9, 
   3.8036340782586813`*^9}, {3.803881171499217*^9, 3.8038811735021505`*^9}, {
   3.8042501387808495`*^9, 3.804250142297221*^9}, {3.80427352965504*^9, 
   3.804273531102547*^9}, {3.8043294531557817`*^9, 3.804329456958108*^9}, {
   3.804857125863344*^9, 3.804857127807338*^9}, 3.805024339858855*^9, {
   3.8056279283427267`*^9, 3.805627940763915*^9}},
 ExpressionUUID -> "f1d28f9a-2912-4dec-a44b-799e1f1980c6"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "2020", ",", "8", ",", "5", ",", "15", ",", "57", ",", 
   "30.7425744`9.240315140078138"}], "}"}]], "Output",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.},
 CellChangeTimes->{{3.626692080734541*^9, 3.6266921169441614`*^9}, {
   3.626693966767125*^9, 3.6266939824806967`*^9}, 3.6266940419696445`*^9, 
   3.6266947483748465`*^9, 3.626694938685317*^9, {3.626694985830031*^9, 
   3.6266950021316605`*^9}, 3.626695489603403*^9, 3.626695731138554*^9, 
   3.6266959441988583`*^9, 3.6266962597274075`*^9, {3.6266980423116484`*^9, 
   3.626698064610878*^9}, 3.6267530586610126`*^9, 3.626786702730054*^9, {
   3.6267867927080507`*^9, 3.6267868102418036`*^9}, 3.6267869371954975`*^9, 
   3.6267883481153336`*^9, 3.6267885458053336`*^9, {3.6267886029373336`*^9, 
   3.626788627960334*^9}, 3.626788667118334*^9, {3.626788725817361*^9, 
   3.6267887750692854`*^9}, 3.8036344883826056`*^9, 3.803634647451294*^9, 
   3.803813662538252*^9, 3.803813999492004*^9, 3.8042418563328433`*^9, 
   3.804242086681238*^9, 3.804242345806949*^9, 3.8042447623097053`*^9, 
   3.804246387829973*^9, 3.8042493296015215`*^9, 3.8042500501263013`*^9, 
   3.8042502430932493`*^9, 3.8042503486034145`*^9, 3.8042505580044165`*^9, {
   3.804330370563507*^9, 3.804330391618931*^9}, 3.804330940074765*^9, 
   3.8043310240133247`*^9, 3.804331146159178*^9, 3.804405475592243*^9, 
   3.8044100020691433`*^9, 3.804587781635994*^9, 3.8045897138399153`*^9, 
   3.804594281360493*^9, 3.804595154734604*^9, 3.8045953580388947`*^9, 
   3.804595495936651*^9, 3.804595556028666*^9, 3.804595628525885*^9, 
   3.8045956968274317`*^9, 3.804598888339372*^9, 3.804599021907595*^9, 
   3.804757554047377*^9, 3.8047576859669247`*^9, 3.804837773327941*^9, 
   3.804837821017748*^9, 3.804837913059807*^9, 3.8048537384503727`*^9, 
   3.8048571817816644`*^9, 3.804920337402954*^9, 3.804921283329753*^9, 
   3.8049213813736205`*^9, 3.805014808268583*^9, 3.805014993114212*^9, {
   3.8050243177620745`*^9, 3.805024339858855*^9}, 3.8054557744574537`*^9, 
   3.8054558201323395`*^9, 3.805455887787578*^9, 3.8054560745609207`*^9, 
   3.8055246359595404`*^9, 3.805524704195155*^9, 3.805524801214073*^9, 
   3.805524994716473*^9, 3.805525041354367*^9, 3.8055250744282503`*^9, 
   3.8055251120524406`*^9, 3.805525198040743*^9, 3.805525230596163*^9, 
   3.8055253552910566`*^9, 3.8055255011116433`*^9, 3.805525557539437*^9, 
   3.805525594694111*^9, 3.805525662593073*^9, 3.8055257015428963`*^9, 
   3.8055257364538856`*^9, 3.8055259699633417`*^9, 3.805526007265876*^9, 
   3.8055260662500477`*^9, 3.8055261279773755`*^9, 3.8055262983066807`*^9, 
   3.8055263381316013`*^9, 3.8055263751843805`*^9, 3.805526413159209*^9, {
   3.8055264749374847`*^9, 3.8055265294402657`*^9}, 3.8055266262573967`*^9, 
   3.8055266997755632`*^9, 3.8055268136381135`*^9, 3.8055268582800646`*^9, 
   3.805526958152733*^9, 3.8055270912184753`*^9, 3.805527128794716*^9, 
   3.8055271714337325`*^9, 3.8055273885967283`*^9, {3.805527420388934*^9, 
   3.80552744945695*^9}, 3.805527550840397*^9, 3.805527586310809*^9, 
   3.8055276489462004`*^9, 3.8055276991494155`*^9, 3.8055277442758675`*^9, 
   3.805527780357649*^9, 3.8055278468860245`*^9, 3.805527879316572*^9, 
   3.8055294579492188`*^9, 3.80552952430777*^9, 3.8055295656251507`*^9, 
   3.8055296122630434`*^9, 3.805529852446294*^9, 3.8056246508534603`*^9, 
   3.805627940763915*^9},
 ExpressionUUID -> "0df5666d-74e4-407c-96f5-305eca4ccc1a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"eps", "=."}], ";", 
  RowBox[{"R", "=."}], ";"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.},
 CellChangeTimes->{{3.575777009031903*^9, 3.5757770093129168`*^9}, {
   3.8042423261122637`*^9, 3.804242327784542*^9}, 3.805024339858855*^9, 
   3.8056279407649145`*^9},
 ExpressionUUID -> "b013c274-698f-428f-b38d-a2e617c365f0"]
}, Closed]],

Cell[CellGroupData[{

Cell["Component description", "Subsection",ExpressionUUID->"33d33fda-af94-4e63-8d63-777ee2b1fbf3"],

Cell["\<\
This is a simple pneumatic valve with three ports and three positions. It \
opens between pressure port (1) and load port (2) and between the load port \
(4) and return (3) when the input signal it is one.  The opening is \
proportional to the input signal. At zero input signal it opens the load port \
(2) to the return port (3) and between the pressure port (1) and load port  \
(4).  The opening is proportional to the input signal. There is no valve \
dynamics\
\>", "Text",
 CellChangeTimes->{{3.8050222996074395`*^9, 3.8050223969109397`*^9}, {
   3.8050224580941873`*^9, 3.8050225050586367`*^9}, {3.805022547197379*^9, 
   3.8050225770905113`*^9}, {3.8050229423647647`*^9, 3.805022947994833*^9}, {
   3.8050229965362473`*^9, 3.80502311593644*^9}, {3.8050231470569267`*^9, 
   3.8050231830501547`*^9}, {3.805023334479188*^9, 3.8050234261703887`*^9}, 
   3.805023671522853*^9, {3.8050237813496456`*^9, 
   3.805023820894039*^9}},ExpressionUUID->"8691b14c-c93d-4322-aee2-\
62f88b1104a4"],

Cell[GraphicsData["Metafile", "\<\
CF5dJ6E]HGAYHf4PEfU^I6mgLb15CDHPAVmbKF5d0@0003Xl0@0006`0000000008@0002H300250P00
oOoooogoooof3@00f@/00215CDH00040?3X005H0000200000000000000000000HA<006PK003B0000
:@40000000000000000004/d0`0NR0@0AP0002`0000P0000ADe6:`500@0L00004000008@`=/00000
F08005P200160000a0/00;P;0015CDH[<4020100000400000020?b90100<0000000002Y0000T0000
60000000P3l0000000000000P3l0000000000390004L00004000000000000000041CA010<d@Z@000
900001P00000080o000000000000080o00000000000U@000400000@0000000007d0300`000000000
7T0900`0000000008D0700`000000000:T0002@0000H0000/08/>P0000000000/08/>P00000004m3
:d0000`0000000007T0600`0000000008D0500`0000000007T0900`000000000:T0002@0000H0000
/08/>P0000000000/08/>P00000004m38D0700`00000000024000c`0000`00000Q30f`@000000000
00000000001P8II90000060QUTV0;<Q80000080/b4P00@61<d000@`000000000940400`000000000
:T0002@0000H0000XBo8@00000000000XBo8@000000004m324011J`9002P2@000Q30f`4000000000
00000000000000000@0008U@CTL=2QX:00003DU8A58000210000:`P60000GbO[f00000U`B5Uc000>
``003/<1afnXI00001UdAEQdDfmVM7MQLVD0MgMg;VU^Jg=SHG1U;VmbIi_^?1X000T>BDA1E7RLkIaY
B5A]5<Mo<nY<XeVF9JAY2aH4D]>6QEUIdD9kJX/F@AmJ;JCD5RB/J;?ED>Y;ZI6d6V55:56IA:^U]=]>
9EYY=ITfj]cWoF0=CFhcc^dM7O_1@3icWW=><omkiiicWnLZJ3VXP@aP[:dC/B<Th:c2eUUH@5lPgmI9
f252JN/<;409X=EZ4D:HmDY;Bf?Q`XEVfcOdF[AX4@092@V=f^kH/@>0Z:RXNVfZZj_YfK<W0?7alK;T
n>_en_E[O7emnOciLh=fSXj>08ZF90:;>G;T2>WYjKI>XdhL71b8Shl7H=>VCKaooehF_lnO?fO@X46X
E2[Lg=`J]:f^[PIn7UgfR5j_ilZE:iBGUo?P`@=KYe<W`L71S1loWVoO_[5jmFZ[oCeilX@A8dI@FU[:
c9TccIiW]b:hM>TB:YD:BI8hMnjL[M>YUggkmZ5FZdU;Bn?:UB]=m_?P`@>2PX8X;2c4gMfMh>1P/nOJ
[@R>7cn>CZM3[mMcm>QAFjMC;kejmF;il^D0A4A464oAUW3WcQd20P8X:RX2JWiZo?clc9i_Ub8@@Y2A
TH4@0ZPiCGkil/G6FMG?n_G[lOCdi>73QncO_mnR^CTi>H`O?ajMCVLL6cil^4Dnk584]foO=SVRE2XE
FEUI=/bXHEaMGMVnOC/0/K6aaR>j<BiO_/b<6C<X:BTalCEgkUb;h]^U2=;CdoWahhOakk:b<TjN?6W3
S1XW?3bL4B=6X=?YR8f=KMCno?WcQ8J6l^WC9i=a]EY=D52@AK7]DPA7SajUZZ[:I2`c<a=9TVbDDN<X
50XB4a=aM7@T>CVI6cM^e6^KUiO7m>WCCLh0_o3alJ5]fkHFaKHk4KahlJ;>3`MZ;Z2J<ginORaN_1Q9
TXR8R:QG]5Z]US]gkQ0H66Pbk^CTa9`iLbb>JgLR>7gj=9FEUKG6bl_;bLS8/456U[5ahdHjMni<KVh^
1`lN[=N^KmnnaWogk=TC3`l?=1X=djI=/cRVgHVPCI/fQ8B4<7_fK9bMW@6H<VD:XJ6QSGK@VP<M>WAP
biH]0:aI/jKN/mZaHlO8bLU1Xm5`nO9Uk]noCeaL7;jn__mW^_lkFT1X]EYQ;]kNgP8@Kmjl<G]>OBaJ
]4P08R4QXE7K7C]f2414ADDe:IK1H13no_h24<^F;J_eOTE5QNSN_K/0a8H=6iXD@`PQ044;^h7DJU0Z
UB@U9J5D:SU`h01iNGTVknoL^I?G[eoC]F]GEZeJIGdlZcglhjl`L>105RaHP<5P828R`]Sh:Rh^=]jU
g;im>bh^;UK7nRN2I/bfKM]`MgOWf[E[Y:FU0CGG2CZMSR53QSBY4ZR;Ob9Xa[Rk^a<G5`OD[4g8bLWQ
l>73:1@:M^kLRD8QciZPOb9XiRaI/XAnoOYAG5a<F5PHTR@A7Qi>@420K34L0Co0/VJcKO20VWZo=N7P
h41BDQ:1PH6lNoL>]E[=i/fKIHgQ26@37FGenQNAJ`E>Bf;@X46h^;Q@EUJ6UiLG?Shn/_Ygi:L0]VgK
9Y_CahlOTiZJRXn?3d^G;YG5If5Q8DU9BLfjoongf;E[5fEUIBREBUjnO<VYDjL82@VA=HH0V]a`Z8^@
T101R?ShN=Ulg[]gC`12Xm6H?JNU=X]nYjRXB;A[edh0H/jL>@8@g]kNXZb/c6[Oo:eVDFUY:FO?WTFY
E<YF`[AVeZeKQdjW`moOWmCDE?clo7SkmZf/IfkIAG3/f37dNSeSahjUJmN^L[]_ENCUiI6BTV8/2IfL
W=RkMbm@/dbmX:10USRbRb0e=AF0nO?WbnfjeA4I6HTTBHB5QC5/f300AXlNCG1`<9FEUJaH/D:F>;::
X:2PP5^gK]6nOG^VCYdZYn]FajUCYlS>cTJSdM@Z2OO/fH>;R`^IVIVb[:BFE@C9bLT0c9Xe2he68jO[
ETEUIBE[ejh582HVQVkM^YVlkng]KMbW41TIJK:D[RW89P99TXcmKG_i:BP^;RHg=iOLg5`nO_`8`=^g
KheSObiQTh_M^gOco?Uc_;blR8j>[]<V9RJ6g[ekln;52gK]fVEeC5U:a<c<C068G[ej2DVB[?Kg9kHX
4K>b/XB3Ph?Xf;6SD:_E0Q3>c/jRGK]fXT>73/9P<=@iciXB/KRhF;A_geh0h_3Q``gJIVAT63nC^gO_
RYD[EhZUBiNJ7N_GMnmX]HAnl_/5XE`g=Vc=b94SDJ_EU9JF6/O:bl]A:1C<VSD;YE;nFbo[eZgSjmN_
31P`P?3`l0I]9dnNc:QAXkQdjA810@5DEeOCZE<W4Q<C;OX>I?UOj7@jcY`iPd:Q82`/C0jGc@8W9bLV
C9Q@j`=eMGFeJ:nO^OaN4RHT93@X/ZM?Wc9ahTCS?/^:RPZZZZZX[ZhV?mnb7ObbR>34RA>DUiLC51A4
Sahmi73IK0P?3lOEeMETC:oG<fK<6=USADM7Hc0HV3ek][4T[0mGEeLN?GYDJmo1YdnO;=iS8H/8k;Tg
<6kL>?Aj_LWH`843J`W3F];CdkUhlB8JSHJ]FkLfJ^oYjLW=VcOamOG5`L71>2j4h<bI<aK5]UX4[ejm
h]ZeJkRh^31SaPa[gCDkW9fMCOKfZE@ZfM_Q_iN4DE5A]D[2n_3`l>3VcI_djM?7A0PU9BGe[U:^2j]5
T9:BPQ22d=1@RgNn]1CVcI]Wk7/X50XVCIXTZolmNoK`k=Tc?3dmRHV9/FR^Vi/KejmOAj_EXU:YP9Y[
]0/G;YS]`bXA224hL^@8H9lo1KnH?7Tb1X<1P2iM^]2mNgOIO7ohl<5hn]nbID^C3ZBfKM]bmNYE]5X]
KMZdXJ:R`_RmV8=E8/S>c^KUbiMdjmK=h^g@;@Tg=cNdFRe:YE;fnoRa/K5loOZEo_gk<foN_2KkLGIf
i^[EZoSknj?AJ<S?ccL:]c6/4/7_5hAoXfI^C/bO?am9TRaj0TQSi>OWLnS@8H16Bd9cD:_EI6EU<GCX
D4Y;BkUejiIIliC0[jMHFLCgkmn=3hEZ[:UQ3dbK=Pd?3`l63ah/VloOBl8o=iLf5IE:AFIV9Z=7ScIk
kjF2VPLJfTN;kam=@E9BliC@U[9`CmPj0C/TlCmKI4b7<^YfR0000019ADi4[T9PPP0000Q00PPT0000
6000008@`=/100000`00000000000000000001]00D0d0000:0000080000200000000_`000;l00053
000/@P<000000000P@000000:`0Q000020000680000<00000@000240000800007P0001P000000000
c`0002L3003L0@005@0000`0000400005@0000`000040000AP0001@000080000E4i@D0H1001A0000
g0<00000003?00009P<00=/100000000c`00000000000000P@0002/0001@0000<0000800001L0`00
000008H0kP0W0`003@4002P000210000:`0000400@00000000000000000000000000000000000000
oooo0?oooooooooooooooooooon00000oooooooooooooooooooooh00003ooooooooooooooooooooo
P0000?oooooooooooooooooooon00000oooooooooooooooooooooh00003ooooooooooooooooooooo
P0000?oooooooooooooooooooon00000oooooooooooooooooooooh00003ooooooooooooooooooooo
P0000?oooooooooooooooooooon00000oooooooooooooooooooooh00003ooooooooooooooooooooo
P0000?oooooooooooooooooooon00000oooooooooooooooooooooh00003ooooooooooooooooooooo
P030oooooooooooooooooooooon00000oooooooooooooooooooooh00003ooooooooooooooooooooo
P0000?oooooooooooooooooooon0000@oooooooooooooooooooooh3ooooooooooooooooooooooooo
P0000?oooooooooooooooooooon07]AW[Zj^[Zjooooooooooooooh000000000001oooooooooooooo
P00000000000?ooooooooooooon0N25c0000000Ooooooooooooooh000000000003oooooooooooooo
P000000000007ooooooooooooon0080o0000000ooooooooooooooh000000000001oooooooooooooo
P00000000000?ooooooooooooon0D=@H0000000Ooooooooooooooh000000000003oooooooooooooo
P000000000007ooooooooooooon000000000000ooooooooooooooh000000000001oooooooooooooo
P00000000000?ooooooooooooon000000000000Ooooooooooooooh000000000003oooooooooooooo
P000000000007ooooooooooooon000000000000ooooooooooooooh000000000001oooooooooooooo
P000000000007ooooooooooooon00000D@00070I00000000c`0002H3003K0@0000000<l000000000
00000840000[0000D0000?@200140`00;1H00000003608P09`<000d1000X0000P@0002/0000100P0
000000000000000000000;<00000000000000?ooo`0`<300YJFU06IVIP1WIfL0TI6A08^;R`1dM7@0
o?cl028R8P2:RXX0h>3P02@T903_knl010@404U9B@0C4a<0[:b/00d=3@3Ti>@0fm_K01@D500Z:RX0
n?Sh00T92@3Cdm<0B4Q805]KF`3GemL06QXJ00820P20P800][Jf00l?3`071`L0QhN70=[JfP2o_kl0
61PH01DE5@1OGel00@4102h^;P0[:b/0no_k0<_;b`0>3Ph0o_kn014A4@061PH0l_;b09:BTP32`/80
EUIF0<W9b@0<30`0ZJVY0:>SX`3WinL0_[jn0;:b/P1fMWH01@D505ADE00o?cl0Hf=S0;Bd]03clo<0
7AdM0?gmo@37alL0clo?038b<P3Lg=`02PX:06a/K00c<c<0dM7A03dm?@030`<0Ng]k0>k^kP2JVYX0
5QHF05QHF01>CTh0Vi^K018B4P3/k>`0YjNW0>7Qh@3YjNT0SXj>03Lg=`1[Jf/0moOg020P8021PH40
c<c<08>3P`0L71`0m?Cd06ATI00k>c/0j>SX061PH00h>3P0Ti>C01LG5`34a<@0;bl_05aLG00V9RH0
2`/;08R8R00N7Qh0KVi^08F5Q@2[Zj/0FEUI0>g]k@3Shn<0HV9R0?[jnP0/;2`0O7al09FEU@33`l<0
_;bl0=WIf@0f=SH0De=C04M7A`3fm_H0h^;R0;>c/`1hN7P0nOWi07moO`22PX808b<S0<G5a@1BDU80
6a/K08B4Q02i^KT09BDU0;Zj^P2RXZ80c/k>079bLP1ZJVX0FUYJ0492@P0I6AT0lO7a0=kNgP2^[Zh0
f=SH04Y:BP14A4@0iNGU07YjNP0l?3`0XJ6Q0?Gem@0j>SX0ADE507emO@1nOWh0gmoO0:2PX00820P0
7alO06EUI@0a<C40d=3@0<K6aP000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000012NfX0000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000003^f;403`410@410@410@410FHC
08810@410@410@410@410@410@410@410@5801T10@410@410@41A@1K0@410@410@410@410@410J9D
2@410@410@411`080@410@410JP0E@410@410@410@410@410@410@4]48T10@410@41000mNO800041
0@410@410@410@5Z0:X10@410@410@410@410@410@410@410@5801T10@410@410@41A@1K0@410@41
0@410@410@410Gl0A`410@410@411`080@410@410K5@03D10@410@410@410@410@410HZJ<[810@41
0@410021408000410@410@410@410@4V0:i60@410@410@410@410@410@410@410@5801T10@410@41
0@41A@1K0@410@410@410@410@410H<O20410@410@411`080@410@410@6_0;160@410@410@410@41
0@41644I9`T10@410@41002=SFd000410@410@410@410@4`2P0V0@410@410@410@410@410@410@41
0@5801T10@410@410@41A@1K0@410@410@410@410@413S80H@410@410@411`080@410@410@5L8P2/
0@410@410@410@410@6VPjd0Q@410@410@41000/SV/000410@410@410@410@41ZP1Z0@410@410@41
0@410@410@410@410@5801T10@410@410@41A@1K0@410@410@410@410@41UAT08j/10@410@411`08
0@410@410@41L`0NA0410@410@410@410DA=<P0I>P410@410@41003o>eX000410@410@410@410@41
WBYbA0410@410@410@410@410@410@410@5801T10@410@410@41A@1K0@410@410@410@410@41Z000
<V`10@410@411`080@410@410@41RY<0Z@410@410@410@413We@001]F@410@410@41000R8/800041
0@410@410@410@410J@0Y@410@410@410@410@410@410@410@5801T10@410@410@41A@1K0@410@41
0@410@410@6V8`000:L10@410@411`080@410@410@410A806@`10@410@410@5LLE00000G0@410@41
0@410010DU8000410@410@410@410@410EL0VP410@410@410@410@410@410@410@5801T10@410@41
0@41A@1K0@410@410@410@410@6N;`0002<c0@410@411`080@410@410@410@6Q07P10@410@410J9Q
7`0002ZS0@410@410@410000@Z<000410@410@410@410@410Ia;:Yd10@410@410@410@410@410@41
0@5801T10@410@410@41A@1K0@410@410@410@410@64:P0002nN0@410@411`080@410@410@410@58
D2Z00@410@410InPE00002Q80@410@410@41003]^]D000410@410@410@410@410@6I09410@410@41
0@410@410@410@410@5801T10@410@410@41A@1K0@410@410@410@410Ga;000002YE0@410@411`08
0@410@410@410@41@P19AP410@410@41VP0I?i/`0@410@410@41002<oFd000410@410@410@410@41
0@6B09<`0@410@410@410@410@410@410@5801T10@410@410@41A@1K0@410@410@410@410IA@F2<0
BblaAP410@411`080@410@410@410@41G280U@410@410@4m01VFUiP10@410@410@41000=fVH00041
0@410@410@410@410@56A@2>0@410@410@410@410@410@410@5801T10@410@410@41A@1K0@410@41
0@410@410FUSHhl026=SO0410@411`080@410@410@410@410B@0T6H10@410AQa09410@410@410@41
0@41002HD>/000410@410@410@410@410@41R@040@410@410@410@410@410@410@5801T10@410@41
0@41A@1K0@410@410@410@410@410@D01P410@410@411`080@410@410@410@410HX=08/10@410H`0
SF010@410@410@410@410009`eX000410@410@410@410@410@41PP0RQP410@410@410@410@410@41
0@5801T10@410@410@41A@1K0@410@410@410@410@410@D01P410@410@411`080@410@410@410@41
0@5g01T<0@41Qg80R0410@410@410@410@41002J9:/000410@410@410@410@410@410H<0FP410@41
0@410@410@410@410@5801T10@410@410@41A@1K0@410@410@410@410@410@D01P410@410@411`08
0@410@410@410@410@41@@0L0@41Q0250@410@410@410@410@41001Bm_/000410@410@410@410@41
0@410Gl06`410@410@410@410@410@410@5801T10@410@410@41A@1K0@410@410@410@410@410@D0
1P410@410@411`080@410@410@410@410@41B1lZP06103:20@410@410@410@410@41002EBTD00041
0@410@410@410@410@410GTS7gX10@410@410@410@410@410@5801T10@410@410@41A@1K0@410@41
0@410@410@410@D01P410@410@411`080@410@410@410@410@410G/0GWam07h10@410@410@410@41
0@410000000000410@410@410@410@410@410@5000/10@410@410@410@410@410@5801T10@410@41
0@41A@1K0@410@410@410@410@410@D01P410@410@411`080@410@410@410@410@410FT_07P0AFH1
0@410@410@410@410@410000000007=cLg=cLg=cLg=cLg=cLg=cLg<Y07AcLg=cLg=cLg=cLg=cLg=c
Lg=eD1T10@410@410@41A@1K0@410@410@410@410@410@D01P410@410@411`080@410@410@410@41
0@410@5f01l0M`410@410@410@410@410@4100000000000000000000000000000000000000000000
0000000000000000000007810@410@410@41A@1K0@410@410@410@410@410@D01P410@410@411`08
0@410@410@410@410@410@4H>00:0@410@410@410@410@410@41000000000@0100000@0100400001
00400@0000400@0100000@0100400001004007410@410@410@41A@1K0@410@410@410@410@410@D0
1P410@410@411`080@410@410@410@410@410@5^:P0SF`410@410@410@410@410@41000000010@41
0@410@410@410@410@410@410@410@410@410@410@410@410@4100810@410@410@41A@1K0@410@41
0@410@410@410@D01P410@410@411`080@410@410@410@410@410@U_06D0L0410@410@410@410@41
0@41000000010@410@410@410@410@410@410@410@410@410@410@410@410@410@4000810@410@41
0@41A@1K0@410@410@410@410@410@D01P410@410@411`080@410@410@410@410@410F`0KCDO:Vh1
0@410@410@410@410@41000000010@410@410@410@410@410@410@410@410@410@410@410@410@41
0@4100810@410@410@41A@1K0@410@410@410@410@410@D01P410@410@411`080@410@410@410@41
0@41FA40>P5Z06/`0@410@410@410@410@41000000010@410@410@410@410@410@410@410@410@41
0@410@410@410@410@4000810@410@410@41A@1K0@410@410@410@410@410@D01P410@410@411`08
0@410@410@410@410@41I`1X<05Y;`030@410@410@410@410@41000000010@410@410@410@410@41
0@410@410@410@410@410@410@410@410@4100810@410@410@41A@1K0@410@410@410@410@410@D0
1P410@410@411`080@410@410@410@410@5S7e180@41I01UIP410@410@410@410@41000000010@41
0@410@410@410@410@410@410@410@410@410@410@410@410@4000810@410@410@41A@1K0@410@41
0@410@410@410@D01P410@410@411`080@410@410@410@410DIN05l10@41H640HP410@410@410@41
0@41000000010@410@410@410@410@410@410@410@410@410@410@410@410@410@4100810@410@41
=5EEB`1FE@L10@410@410@410@410@D01P410@410@411`080@410@410@410@410EL0F5T10@410EX0
6E]LG@410@410@410@41000000010@410@410@410@410@410@410@410@410@410@410@410@410@41
0@4000810@410@412`l00000D5410@410@410@410@410@D01P410@410@411`080@410@410@410@41
DRP0D`410@410@5?00YD;aD10@410@410@41000000010@410@410@410@410@410@410@410@410@41
0@410@410@410@410@4100810@410@41BT/000004cL10@410@410@410@410@D01P410@410@411`08
0@410@410@410@41C01=AP410@410Di?0000?`L10@410@410@41000000010@410@410@410@410@41
0@410@410@410@410@410@410@410@410@4000810@410@410DD000004dH10@410@410@410@410@D0
1P410@410@411`080@410@410@410@4J3am70@410@41B3l0000004T10@410@410@41000000010@41
0@410@410@410@410@410@410@410@410@410@410@410@410@4100810@410@410Cho0000@0410@41
0@410@410@410@D01P410@410@411`080@410@410@410C1104810@410@410D<A000001I40@410@41
0@41000000010@410@410@410@410@410@410@410@410@410@410@410@410@410@4000810@410@41
0CLC000h>@410@410@410@410@410@D01P410@410@411`080@410@410@410CX0;c/10@410@410@4l
5P0001<m0@410@410@41000000010@410@410@410@410@410@410@410@410@410@410@410@410@41
0@4100810@410@410C0a000b3P410@410@410@410@410@D01P410@410@411`080@410@410@41<ah0
=0410@410@410@41=A40000f0@410@410@41000000010@410@410@410@410@410@410@410@410@41
0@410@410@410@410@4000810@410@410@4Y:P0[0@410@410@410@410@410@D01P410@410@411`08
0@410@410@41200/;@410@410@410@410Bh_000W0@410@410@41000000010@410@410@410@410@41
0@410@410@410@410@410@410@410@410@4100810@410@410@4Q8R<T0@410@410@410@410@410@D0
1P410@410@411`080@410@410@4U8`0V0@410@410@410@410@4J9`0X6P410@410@41000000010@41
0@410@410@410@410@410@410@410@410@410@410@410@410@4000810@410@410@4H6ATJ0@410@41
0@410@410@410@D01P410@410@411`080@410@410@4K01`10@410@410@410@410@417AhO80410@41
0@41000000010@410@410@410@410@410@410@410@410@410@410@410@410@410@4100810@410@41
0@4141410@410@410@410@410@410@D01P410@410@411`080@410@410A804a@10@410@410@410@41
0@410ADF5`410@410@41000000010@410@410@410@410@410@410@410@410@410@410@410@410@41
0@4000810@410@410@410`@10@410@410@410@410@410@D01P410@410@411`080@410@412@X02`41
0@410@410@410@410@410@4<3@h10@410@413`0000010@410@410@410@410@410@410@410@410@41
0@410@410@410@410@41000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000010@410@410@410@410@41
0@410@410@410@410@410@410@410@410@4100000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000160000
500000P0001DCU1@1`400280000<0000ooooob80000<0000ooooodH0002d0@00Z04004E=AR/Z@000
900001P0002`0R`j00000000002`0R`j00000000Cd<T@00030000000000[@00030000000000N@0H0
30000000000Q@0D0300000000008@0<4:00001`000024<3K00000000010000200000P010Dd@0@3=4
=40300`0000000007T0900`000000000:T0002@0000H0000/08/>P0000000000/08/>P00000004m3
8D0700`000000000:T0002@0000H0000/08/>P0000000000/08/>P00000004m3:T0002@0000H0000
0020?`00000000000020?`0000000000:T0002@0000H00000020?`00000000000020?`0000000000
9T00010000040000000002E0000@000010000000000O@0<030000000000N@0T030000000000Q@0L0
30000000000Z@000900001P00000080o000000000000080o<TT=A>c56D@4@00030000000000Q0000
200001`000080000B`000400000`00001@000200000100000@00010000000000000004d3003=0P00
00000000001=0`00c@8002@0000T00000020?`00000000000020?c993DC/aAU40P0000`0000@0000
00000000000:00004000000000000000DP00070100010000Roooo`00000000000000090100000000
10048T<0H@1/06T0HP1b06T000000000000000000030ib]100000000000000000000000000000000
00000<3W:d400040000004d000000000:>5?014000040000V>M?05SRC`10X;1gDJf;nokoooo0hDl0
ck2/Me`2001X0P00f0?j2@00042LECAgGcDdMO5k8AeLhDl00H0006le=7D000000000000000000000
Z1GgSXcQC`3X2cAelG/Q7@008@3aNb4MlG/001cRC`2fOS9e3gd00>SQC`3PDoX9c>=?00T000020000
00000=9]/GL?OI`03gd4W00010000?oo3gfLoooooool2P0019`406@000000000:87j2B0:[`1<hTl0
k3LWM^1CnPT?O@BL2@00000000040000I7H02000000U000030000040000F0000300001P0000B0000
30000040000H000030000000009D0000E00003D2003h0@00K`8008D2000200000000000000000000
00000040001<00000000000000000000oooooooooom@0000<@0003/0000U0000300000h0080X0000
30000040000R000030000?oooom60000c0000<000015CDH[:T0002@0000H00000020?`0000000000
0020?`0000000000:T0002@0000H00000020?`00000000000020?`00000000009T00010000040000
000002E0000@000010000000000O@0<030000000000N@0T030000000000Q@0L030000000000Z@000
900001P00000080o000000000000080o<TT=A0UJ44<4@00030000000000Q0000200001`000080000
B`000400000`00001@000200000100000@00010000000000000004d3003=0P0000000000001=0`00
c@8002@0000T00000020?`00000000000020?c993D@9FQ130P0000`0000@000000000000000:0000
4000000000000000DP00070100010000Roooo`0000000000000009010000000010048T<0H@1/06T0
HP1b06T000000000000000000030ib]10000000000000000000000000000000000000<3W:d400040
000004d000000000E0000140003aNb4M000005SRC`10X;1gDJf;nokoooo0hDl0ck2/Me`2001X0P00
f0?j2@00042LECAgGcDdMO5k8AeLhDl00H0006le=7D000000000000000000000Z1GgSXcQC`3X2cAe
lG/Q7@008@3aNb4MlG/001cRC`2fOS9eUSd00>SQC`3PDoX9c>=?00T00002000000000=9]/GNF?Kl0
USd4_`0010000?ooUSfooooooool2P001;l406@000000000:87j2K0:[`1<hTl0k3LWM^1CnPVF?@Bo
2@00000000040000I7H02000000U000030000040000F0000300001P0000B000030000040000H0000
30000000009D0000E00003D2000Q0000K`800:h000020000000000000000000000000040001<0000
0000000000000000oooooooooom@0000=00003/0000U0000300000h0080X000030000040000R0000
30000?oooom60000c0000<000015CDH[:T0002@0000H00000020?`00000000000020?`0000000000
:T0002@0000H00000020?`00000000000020?`00000000009T00010000040000000002E0000@0000
10000000000O@0<030000000000N@0T030000000000Q@0L030000000000Z@000900001P00000080o
000000000000080oXN0bA>c56D@4@00030000000000Q0000200001`000080000B`000400000`0000
1@000200000100000@00010000000000000004d3003=0P0000000000001=0`00c@8002@0000T0000
0020?`00000000000020?j7P<TC/aAU40P0000`0000@000000000000000:00004000000000000000
DP00070100010000Roooo`0000000000000009010000000010048T<0H@1/06T0HP1b06T000000000
000000000030ib]10000000000000000000000000000000000000<3W:d400040000004d000000000
E0000140003aNb4M000005SRC`10X;1gDJf;nokoooo0hDl0ck2/Me`2001X0P00f0?j2@00022LECAg
GcDdMO5k8AeLhDl00H0006le=7D000000000000000000000Z1GgSXcQC`3X2cAelG/Q7@008@3aNb4M
lG/001cRC`2fOS9eJWL00>SQC`3PDoX9c>=?00T00002000000000=9]/GMZMh/0JWL4R`0010000?oo
JWN;oooooool2P0018/406@000000000:87j2FP:[`1<hTl0k3LWM^1CnPUZM`B;2@00000000040000
I7H02000000U000030000040000F0000300001P0000B000030000040000H000030000000009D0000
E0000<`2003h0@001P<008D200020000000000000000000000000040001<00000000000000000000
oooooooooom@0000<`0003/0000U0000300000h0080X000030000040000R000030000?oooom60000
c0000<000015CDH[:T0002@0000H00000020?`00000000000020?`0000000000:T0002@0000H0000
0020?`00000000000020?`00000000009T00010000040000000002E0000@000010000000000O@0<0
30000000000N@0T030000000000Q@0L030000000000Z@000900001P00000080o000000000000080o
XN0bA0UJ44<4@00030000000000Q0000200001`000080000B`000400000`00001@00020000010000
0@00010000000000000004d3003=0P0000000000001=0`00c@8002@0000T00000020?`0000000000
0020?j7P<T@9FQ130P0000`0000@000000000000000:00004000000000000000DP00070100010000
Roooo`0000000000000009010000000010048T<0H@1/06T0HP1b06T000000000000000000030ib]1
0000000000000000000000000000000000000<3W:d400040000004d000000000E0000140003aNb4M
000005SRC`10X;1gDJf;nokoooo0hDl0ck2/Me`2001X0P00f0?j2@00022LECAgGcDdMO5k8AeLhDl0
0H0006le=7D000000000000000000000Z1GgSXcQC`3X2cAelG/Q7@008@3aNb4MlG/001cRC`2fOS9e
3gd00>SQC`3PDoX9c>=?00T00002000000000=9]/GL?OJ003gd4X00010000?oo3gfPoooooool2P00
1:0406@000000000:87j2B0:[`1<hTl0k3LWM^1CnPT?O@BP2@00000000040000I7H02000000U0000
30000040000F0000300001P0000B000030000040000H000030000000009D0000E0000<`2000Q0000
1P<00:h000020000000000000000000000000040001<00000000000000000000oooooooooom@0000
<P0003/0000U0000300000h0080X000030000040000R000030000?oooom60000S00008000015CDH[
:T0002@0000H00000020?`00000000000020?`0000000000:T0002@0000H00000020?`0000000000
0020?`00000000009T00010000040000000000Q010@H00003000008@`=/000000`0043A0100<0000
0000024000080000HP0000`000010000C00006@000000000c`0002H3003K0@0000000<l0000W0`00
3@4002T0ZP00000000000000P3l0000000000000P3l0000000000000000000000000000000000000
00000280000<0000ooooodH0000L0000400004E=AR/2@00030000000000>000050000000000@0000
5000
\>"], "Graphics",
 ImageSize->{185., 156.4338235294117},
 ImageMargins->{{74, 0}, {0, 7}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"inputParameters", " ", "=", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "Bf", ",", ".528", ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<B, ISO critical pressure ratio\>\""}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"Cf", ",", 
       RowBox[{"1.", " ", 
        SuperscriptBox["10", 
         RowBox[{"-", "13"}]]}], ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<C, ISO flow coefficient\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "x0", ",", "0.1", ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<Relative overlap\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "p0", ",", "100000.", ",", "double", ",", "\"\<Pa\>\"", ",", 
       "\"\<Nominal pressure\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "T0", ",", "297.", ",", "double", ",", "\"\<K\>\"", ",", 
       "\"\<Nominal temperature\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "R", ",", "287.", ",", "double", ",", "\"\<J/Kg K\>\"", ",", 
       "\"\<Gas constant\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "cv", ",", "718", ",", "double", ",", "\"\<J/Kg K\>\"", ",", 
       "\"\<heatcoeff\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "eps", ",", "0.02", ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<Linearisation coeff\>\""}], "}"}]}], "\[IndentingNewLine]", 
    "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.535370565329912*^9, 3.5353705653455253`*^9}, {
   3.535370598980867*^9, 3.535370607569777*^9}, {3.535370682449456*^9, 
   3.535370772725971*^9}, 3.5355279035625*^9, {3.572017994427971*^9, 
   3.5720180086697855`*^9}, {3.8036340991916904`*^9, 
   3.8036341013614497`*^9}, {3.8036341945389094`*^9, 3.80363421103648*^9}, {
   3.8042502668327627`*^9, 3.8042502836913753`*^9}, {3.8042735744738126`*^9, 
   3.804273604974348*^9}, {3.804834121737302*^9, 3.8048341252876387`*^9}, 
   3.804857170406397*^9, {3.8049203089303265`*^9, 3.804920310913278*^9}, {
   3.805011464771186*^9, 3.8050114718561707`*^9}, {3.8051085386521115`*^9, 
   3.8051086382954836`*^9}, {3.8051087117254987`*^9, 
   3.8051087197565823`*^9}, {3.805454098728649*^9, 3.8054541048583255`*^9}, 
   3.8054551085310326`*^9},
 ExpressionUUID -> "303be765-e9fc-44f7-94b5-8b137bbc4f2a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"inputVariables", " ", "=", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{"{", 
     RowBox[{
     "xin", ",", "1", ",", "double", ",", "\"\<\>\"", ",", 
      "\"\<Input signal 0<xin<1\>\""}], "}"}], "\[IndentingNewLine]", "}"}]}],
   ";"}]], "Input",
 CellChangeTimes->{{3.535527741234375*^9, 3.535527744390625*^9}, {
   3.535527776078125*^9, 3.5355278698125*^9}, {3.5720180179783173`*^9, 
   3.5720180202844496`*^9}, {3.803634115508345*^9, 3.803634155729506*^9}, {
   3.8042501499303474`*^9, 3.80425015057868*^9}, 3.8048571376631727`*^9},
 ExpressionUUID -> "b285c72f-9e43-46ac-b84f-0805e85dec8d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"outputVariables", " ", "=", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "qm12Pos", ",", "0.", ",", "double", ",", "\"\<kg/s\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "qm12Neg", ",", "0.", ",", "double", ",", "\"\<kg/s\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "qm32Pos", ",", "0.", ",", "double", ",", "\"\<kg/s\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "qm32Neg", ",", "0.", ",", "double", ",", "\"\<kg/s\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "qm14Pos", ",", "0.", ",", "double", ",", "\"\<kg/s\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "qm14Neg", ",", "0.", ",", "double", ",", "\"\<kg/s\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "qm34Pos", ",", "0.", ",", "double", ",", "\"\<kg/s\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "qm34Neg", ",", "0.", ",", "double", ",", "\"\<kg/s\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "Ng32e", ",", "0.", ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "Ng12e", ",", "0.", ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "Ng34e", ",", "0.", ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "Ng14e", ",", "0.", ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "Bfe", ",", "0.", ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}]}], "\[IndentingNewLine]", "}"}]}],
   ";"}]], "Input",
 CellChangeTimes->{{3.626786893484127*^9, 3.626786931443923*^9}, 
   3.803813598174629*^9, 3.8038136341521225`*^9, {3.803813938162367*^9, 
   3.8038139603247657`*^9}, {3.8038145991463203`*^9, 
   3.8038146177733107`*^9}, {3.8038148807248917`*^9, 
   3.8038149028135614`*^9}, {3.803814953045969*^9, 3.803814967057192*^9}, {
   3.8043309934151564`*^9, 3.8043310114208217`*^9}, 3.8045954501858444`*^9, {
   3.805013263536998*^9, 3.805013278739939*^9}, {3.80501424204737*^9, 
   3.8050142445247602`*^9}, {3.8050144625554366`*^9, 
   3.8050144671851745`*^9}, {3.8050146989824276`*^9, 
   3.8050147006181927`*^9}, {3.805014915367519*^9, 3.8050149182222652`*^9}, {
   3.805024083013446*^9, 3.8050240914539475`*^9}, {3.805525319323639*^9, 
   3.8055253268748503`*^9}},
 ExpressionUUID -> "1547f96f-2227-4719-9bd2-75f498556134"],

Cell[BoxData[
 RowBox[{
  RowBox[{"nodeConnections", " ", "=", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"PneumaticQnode", "[", 
      RowBox[{"1", ",", "100000.", ",", "\"\<fluid port 1 (P)\>\""}], "]"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{"PneumaticQnode", "[", 
      RowBox[{"2", ",", "100000.", ",", "\"\<fluid port 2 (A)\>\""}], "]"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{"PneumaticQnode", "[", 
      RowBox[{"3", ",", "100000.", ",", "\"\<fluid port 3 (R)\>\""}], "]"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{"PneumaticQnode", "[", 
      RowBox[{"4", ",", "100000.", ",", "\"\<fluid port 4 (B)\>\""}], "]"}]}],
     "\[IndentingNewLine]", "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.535370789690829*^9, 3.5353707897064214`*^9}, 
   3.53552777309375*^9, {3.535542211390625*^9, 3.535542214078125*^9}, {
   3.535542265921875*^9, 3.535542311625*^9}, {3.5684508318796263`*^9, 
   3.5684508487293115`*^9}, {3.5684511750240593`*^9, 
   3.5684511760840592`*^9}, {3.5720179665203743`*^9, 3.572017974399825*^9}, 
   3.803814669346805*^9, 3.8038148065042076`*^9, {3.8038149093424788`*^9, 
   3.803814935981494*^9}, {3.803880950923745*^9, 3.8038809779838295`*^9}, {
   3.8042735457124767`*^9, 3.8042735489141736`*^9}, 3.804773429558346*^9, 
   3.804773504700839*^9, 3.8047735774467983`*^9, 3.804773625572158*^9, {
   3.8050132869302034`*^9, 3.8050132883292885`*^9}, {3.8050142476192694`*^9, 
   3.8050142486914325`*^9}, {3.805014469107465*^9, 3.8050145415480537`*^9}, {
   3.8050147100626383`*^9, 3.8050147209115753`*^9}},
 ExpressionUUID -> "6f4571d4-b6a4-450e-bd7d-4695ea7860b0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["The system of equations", "Subsection",
 Evaluatable->False,
 PageBreakAbove->False,ExpressionUUID->"c5571497-8955-4b3c-beda-9786edc2a9aa"],

Cell["The spool position is recalculated.", "Text",
 CellChangeTimes->{{3.8036342377161274`*^9, 3.803634252753645*^9}, {
  3.8048570859515133`*^9, 
  3.804857115838684*^9}},ExpressionUUID->"6e2cb804-6aa4-45d1-a7a6-\
46ac2e220b0e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xine", "=", 
   RowBox[{
    RowBox[{"2", " ", "xin"}], "-", "1"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.80485618712088*^9, 3.8048562071662035`*^9}, {
   3.8048562421900764`*^9, 3.804856266230278*^9}, 3.8048570580712714`*^9},
 ExpressionUUID -> "d9d41391-daaa-453f-a019-9584355bb2d3"],

Cell["\<\
The valve areas are limited between 0 and A1max and A3max respectively .\
\>", "Text",
 CellChangeTimes->{{3.8036342377161274`*^9, 3.803634252753645*^9}, {
   3.804925406473482*^9, 3.80492543148868*^9}, {3.8049255329120903`*^9, 
   3.8049255789765744`*^9}, 3.8050132961310015`*^9, 
   3.8050144886985893`*^9},ExpressionUUID->"6e2cb804-6aa4-45d1-a7a6-\
46ac2e220b0e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Cf12", "=", 
   RowBox[{"Cf", " ", 
    RowBox[{"limit", "[", 
     RowBox[{
      RowBox[{"(", 
       FractionBox[
        RowBox[{"xine", "-", "x0"}], 
        RowBox[{"1", "-", "x0"}]], ")"}], ",", "0", ",", "1"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Cf32", "=", 
   RowBox[{"Cf", " ", 
    RowBox[{"limit", "[", 
     RowBox[{
      RowBox[{"(", 
       FractionBox[
        RowBox[{
         RowBox[{"-", "xine"}], "-", "x0"}], 
        RowBox[{"1", "-", "x0"}]], ")"}], ",", "0", ",", "1"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Cf14", "=", 
   RowBox[{"Cf", " ", 
    RowBox[{"limit", "[", 
     RowBox[{
      RowBox[{"(", 
       FractionBox[
        RowBox[{
         RowBox[{"-", "xine"}], "-", "x0"}], 
        RowBox[{"1", "-", "x0"}]], ")"}], ",", "0", ",", "1"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Cf34", "=", 
   RowBox[{"Cf", " ", 
    RowBox[{"limit", "[", 
     RowBox[{
      RowBox[{"(", 
       FractionBox[
        RowBox[{"xine", "-", "x0"}], 
        RowBox[{"1", "-", "x0"}]], ")"}], ",", "0", ",", "1"}], "]"}]}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.8036342254795046`*^9, 3.8036342331107635`*^9}, {
   3.8038812411753454`*^9, 3.803881264624159*^9}, {3.8042501867423787`*^9, 
   3.804250225152755*^9}, {3.804250289307581*^9, 3.8042502933444166`*^9}, {
   3.804330837491709*^9, 3.8043309198355713`*^9}, {3.8048376890103693`*^9, 
   3.804837749066965*^9}, {3.80485373294905*^9, 3.8048537346423006`*^9}, {
   3.8048570727521276`*^9, 3.804857077327409*^9}, 3.8049214860616345`*^9, {
   3.805013299116004*^9, 3.805013302204735*^9}, {3.805014256632596*^9, 
   3.8050142592720647`*^9}, {3.8050145583552456`*^9, 
   3.8050145629481525`*^9}, {3.8050147271839695`*^9, 3.805014727816914*^9}, {
   3.805455158947027*^9, 3.805455179490837*^9}},
 ExpressionUUID -> "d4555a41-73a0-460c-8a4c-dd2268e49288"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Bf12", "=", "Bf"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Bf32", "=", "Bf"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Bf14", "=", "Bf"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Bf34", "=", "Bf"}], ";"}]}], "Input",
 CellChangeTimes->{{3.805453413762368*^9, 3.805453441487768*^9}, {
  3.8054541143385487`*^9, 3.805454116960842*^9}, {3.8054558786510024`*^9, 
  3.8054558847227397`*^9}, {3.8055252807674103`*^9, 3.805525300690859*^9}, {
  3.8055254774190845`*^9, 3.8055254827855463`*^9}, {3.805525962864666*^9, 
  3.8055259662381835`*^9}, {3.80552725880361*^9, 3.8055272641151314`*^9}, {
  3.8055275203538437`*^9, 3.8055275229851294`*^9}}],

Cell["Calculation of the Ng functions for flow calculations.", "Text",
 CellChangeTimes->{{3.803634260546183*^9, 3.8036342655113525`*^9}, {
  3.8047461774905787`*^9, 
  3.804746198521885*^9}},ExpressionUUID->"fbc6ac93-5130-4905-8ff0-\
27a02bcad99f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng1", "=", "1"}], ";"}]], "Input",
 CellChangeTimes->{3.51635891059375*^9, 3.626691991670635*^9},
 ExpressionUUID -> "aa92a39f-08b0-45e1-95b7-8c46f8b9b9cd"],

Cell[BoxData[
 RowBox[{"Ng12Pos", ":=", " ", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p2", "p1"], "-", "Bf12"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "Bf12"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Input",
 CellChangeTimes->{{3.516362438390625*^9, 3.51636243934375*^9}, {
   3.51636253609375*^9, 3.5163625365625*^9}, 3.568457441890836*^9, 
   3.62669625404884*^9, {3.804870597654211*^9, 3.804870598075777*^9}, {
   3.8048706421083584`*^9, 3.8048706425229297`*^9}, {3.8051020828316708`*^9, 
   3.805102167355263*^9}, {3.805102202608164*^9, 3.805102206949346*^9}, 
   3.805102581388358*^9, 3.8051069502531605`*^9, {3.8051070512545753`*^9, 
   3.805107053239428*^9}, {3.805107099392397*^9, 3.8051071016797934`*^9}, {
   3.8051078304575377`*^9, 3.8051078309732428`*^9}, {3.805108395682269*^9, 
   3.805108413799671*^9}, {3.805529437134689*^9, 3.8055294384203625`*^9}, {
   3.8055297835673447`*^9, 3.8055297851207395`*^9}},
 ExpressionUUID -> "9b00c93b-01a2-4bc9-b342-2670ce645581"],

Cell[BoxData[
 RowBox[{"Ng12Neg", ":=", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p1", "p2"], "-", "Bf12"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "Bf12"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Input",
 CellChangeTimes->{{3.51636244103125*^9, 3.5163624414375*^9}, {
   3.5163625370625*^9, 3.51636253753125*^9}, 3.568457440183836*^9, 
   3.6266962555059853`*^9, {3.8048705985063334`*^9, 3.8048705989518795`*^9}, {
   3.804870643127306*^9, 3.804870643450972*^9}, {3.80510218636352*^9, 
   3.8051022172602854`*^9}, 3.805102583314555*^9, 3.8051069467788057`*^9, {
   3.8051070550740027`*^9, 3.8051070563107834`*^9}, {3.8051071029180803`*^9, 
   3.8051071048091946`*^9}, {3.8051078356062007`*^9, 3.805107836512684*^9}, {
   3.8051083995944896`*^9, 3.8051084178019896`*^9}, {3.8055294393164377`*^9, 
   3.8055294401795473`*^9}, {3.8055297859468875`*^9, 3.8055297867051053`*^9}},
 ExpressionUUID -> "49ba611d-d315-456d-9dc4-f724281fcea5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng12", ":=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"onPositive", "[", 
      RowBox[{"p1", "-", "p2"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p2", "p1"], "-", "Bf12"}], "]"}], "Ng12Pos"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p2", "p1"], "-", "Bf12"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}], "+", " ", 
    RowBox[{
     RowBox[{"onNegative", "[", 
      RowBox[{"p1", "-", "p2"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p1", "p2"], "-", "Bf12"}], "]"}], "Ng12Neg"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p1", "p2"], "-", "Bf12"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}]}]}], ";"}]], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGAQBWIQzcDgdfOt0StHBoZaKO37FEw3VEDp+0I14SBaVBhM
M5jJQfj5YHrO+9jFXtNeOdpFyiwF0UEftPaAaGXhT2A6yFyo0xtI60uLd4Ho
EKf1XPGsrx1XqB4E0xrPVXKMw984HmKrANPrBM4Wg2j79folINpP8l0PiP7d
59MLoouVfv2wBtI7rv8F08bLin03RLxxfL3hK5he13/5JlfkG8dXS67fAdHh
BkavQXTYj04w/WCGwxcQfWzCVDDNWP5/UjWQPsKwcDKI3sk7fzWIdrI1Xw+i
10x3ORIc9cZR9yTPcRDdwOWzpgJIh7UdAdO++yZcB/OtBG6AaADMIKBv
  "],
 ExpressionUUID -> "e0127e99-91a2-4c82-a16d-b7d33e10c829"],

Cell[BoxData[
 RowBox[{"Ng32Pos", ":=", " ", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p2", "p3"], "-", "Bf32"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "Bf32"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Input",
 CellChangeTimes->{{3.516362438390625*^9, 3.51636243934375*^9}, {
   3.51636253609375*^9, 3.5163625365625*^9}, 3.568457441890836*^9, 
   3.62669625404884*^9, {3.804870597654211*^9, 3.804870598075777*^9}, {
   3.8048706421083584`*^9, 3.8048706425229297`*^9}, {3.8051020828316708`*^9, 
   3.805102167355263*^9}, {3.805102202608164*^9, 3.805102206949346*^9}, 
   3.805102581388358*^9, 3.8051069502531605`*^9, {3.8051070512545753`*^9, 
   3.805107053239428*^9}, {3.805107099392397*^9, 3.8051071016797934`*^9}, {
   3.8051078304575377`*^9, 3.8051078309732428`*^9}, {3.805108395682269*^9, 
   3.805108413799671*^9}, {3.8051084644290066`*^9, 3.8051084964765325`*^9}, {
   3.8055294481822934`*^9, 3.8055294493800583`*^9}, {3.8055298023779383`*^9, 
   3.805529803320966*^9}},
 ExpressionUUID -> "8fea452e-fa0c-4283-9786-d12abb2153c8"],

Cell[BoxData[
 RowBox[{"Ng32Neg", ":=", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p3", "p2"], "-", "Bf32"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "Bf32"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Input",
 CellChangeTimes->{{3.51636244103125*^9, 3.5163624414375*^9}, {
   3.5163625370625*^9, 3.51636253753125*^9}, 3.568457440183836*^9, 
   3.6266962555059853`*^9, {3.8048705985063334`*^9, 3.8048705989518795`*^9}, {
   3.804870643127306*^9, 3.804870643450972*^9}, {3.80510218636352*^9, 
   3.8051022172602854`*^9}, 3.805102583314555*^9, 3.8051069467788057`*^9, {
   3.8051070550740027`*^9, 3.8051070563107834`*^9}, {3.8051071029180803`*^9, 
   3.8051071048091946`*^9}, {3.8051078356062007`*^9, 3.805107836512684*^9}, {
   3.8051083995944896`*^9, 3.8051084178019896`*^9}, {3.805108473118527*^9, 
   3.80510849956081*^9}, {3.8055294501302843`*^9, 3.805529451148235*^9}, {
   3.805529804336918*^9, 3.805529805264961*^9}},
 ExpressionUUID -> "c58a4b20-11ab-4f91-b4d7-1eecc6d8a284"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng32", ":=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"onPositive", "[", 
      RowBox[{"p3", "-", "p2"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p2", "p3"], "-", "Bf32"}], "]"}], "Ng32Pos"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p2", "p3"], "-", "Bf32"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}], "+", " ", 
    RowBox[{
     RowBox[{"onNegative", "[", 
      RowBox[{"p3", "-", "p2"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p3", "p2"], "-", "Bf"}], "]"}], "Ng32Neg"}], " ", "+", 
       " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p3", "p2"], "-", "crit"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.5163624423125*^9, 3.51636244390625*^9}, {
   3.51636253840625*^9, 3.516362539765625*^9}, {3.535528086984375*^9, 
   3.535528088671875*^9}, {3.5355281776875*^9, 3.535528179484375*^9}, {
   3.568456986935499*^9, 3.568457000885894*^9}, {3.568457185341836*^9, 
   3.568457191564836*^9}, {3.568458824569253*^9, 3.5684588327220683`*^9}, {
   3.6266947414768467`*^9, 3.6266947420358467`*^9}, {3.8038147531532173`*^9, 
   3.803814755750825*^9}, {3.803814814408286*^9, 3.8038148174901423`*^9}, {
   3.803815015440589*^9, 3.8038150183924537`*^9}, {3.803832263816705*^9, 
   3.803832301427907*^9}, 3.8042498917037106`*^9, {3.8045948124087176`*^9, 
   3.804594815765251*^9}, {3.8047802401956553`*^9, 3.8047802643012695`*^9}, {
   3.8047803833144674`*^9, 3.8047803863243704`*^9}, {3.804780494310973*^9, 
   3.8047804971710234`*^9}, {3.805011109376071*^9, 3.8050111142712226`*^9}, {
   3.805011550402109*^9, 3.8050115576711683`*^9}, {3.8050123822102957`*^9, 
   3.8050124108054376`*^9}, {3.805453860072528*^9, 3.805453881188744*^9}, {
   3.8055294524468946`*^9, 3.8055294536846175`*^9}, {3.8055298070581107`*^9, 
   3.80552980857155*^9}},
 ExpressionUUID -> "e0127e99-91a2-4c82-a16d-b7d33e10c829"],

Cell[BoxData[
 RowBox[{"Ng14Pos", ":=", " ", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p4", "p1"], "-", "Bf14"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "Bf14"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Input",
 CellChangeTimes->{{3.516362438390625*^9, 3.51636243934375*^9}, {
   3.51636253609375*^9, 3.5163625365625*^9}, 3.568457441890836*^9, 
   3.62669625404884*^9, {3.804870597654211*^9, 3.804870598075777*^9}, {
   3.8048706421083584`*^9, 3.8048706425229297`*^9}, {3.8051020828316708`*^9, 
   3.805102167355263*^9}, {3.805102202608164*^9, 3.805102206949346*^9}, 
   3.805102581388358*^9, 3.8051069502531605`*^9, {3.8051070512545753`*^9, 
   3.805107053239428*^9}, {3.805107099392397*^9, 3.8051071016797934`*^9}, {
   3.8051078304575377`*^9, 3.8051078309732428`*^9}, {3.805108395682269*^9, 
   3.805108413799671*^9}, {3.805455359033637*^9, 3.8054553672561555`*^9}, {
   3.8055265944981575`*^9, 3.8055265952823477`*^9}, {3.8055268996733675`*^9, 
   3.8055269059685616`*^9}},
 ExpressionUUID -> "9b00c93b-01a2-4bc9-b342-2670ce645581"],

Cell[BoxData[
 RowBox[{"Ng14Neg", ":=", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p1", "p4"], "-", "Bf14"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "Bf14"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Input",
 CellChangeTimes->{{3.51636244103125*^9, 3.5163624414375*^9}, {
   3.5163625370625*^9, 3.51636253753125*^9}, 3.568457440183836*^9, 
   3.6266962555059853`*^9, {3.8048705985063334`*^9, 3.8048705989518795`*^9}, {
   3.804870643127306*^9, 3.804870643450972*^9}, {3.80510218636352*^9, 
   3.8051022172602854`*^9}, 3.805102583314555*^9, 3.8051069467788057`*^9, {
   3.8051070550740027`*^9, 3.8051070563107834`*^9}, {3.8051071029180803`*^9, 
   3.8051071048091946`*^9}, {3.8051078356062007`*^9, 3.805107836512684*^9}, {
   3.8051083995944896`*^9, 3.8051084178019896`*^9}, {3.8054553623492203`*^9, 
   3.8054553692550936`*^9}, {3.805526591978756*^9, 3.8055265926580553`*^9}, {
   3.8055269247042356`*^9, 3.805526925551361*^9}},
 ExpressionUUID -> "49ba611d-d315-456d-9dc4-f724281fcea5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng14", ":=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"onPositive", "[", 
      RowBox[{"p1", "-", "p4"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p4", "p1"], "-", "Bf14"}], "]"}], "Ng14Pos"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p4", "p1"], "-", "Bf14"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}], "+", " ", 
    RowBox[{
     RowBox[{"onNegative", "[", 
      RowBox[{"p1", "-", "p4"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p1", "p4"], "-", "Bf14"}], "]"}], "Ng14Neg"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p1", "p4"], "-", "Bf14"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}]}]}], ";"}]], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGAQBWIQzcDgdfOt0StHBoZaKO37FEw3VEDp+0I14SBaVBhM
M5jJQfj5YHrO+9jFXtNeOdpFyiwF0UEftPaAaGXhT2A6yFyo0xtI60uLd4Ho
EKf1XPGsrx1XqB4E0xrPVXKMw984HmKrANPrBM4Wg2j79folINpP8l0PiP7d
59MLoouVfv2wBtI7rv8F08bLin03RLxxfL3hK5he13/5JlfkG8dXS67fAdHh
BkavQXTYj04w/WCGwxcQfWzCVDDNWP5/UjWQPsKwcDKI3sk7fzWIdrI1Xw+i
10x3ORIc9cZR9yTPcRB9at3uphAgLZEo0AqipfhW3KoA0pnNhrdBNADGUZ/U

  "],
 ExpressionUUID -> "e0127e99-91a2-4c82-a16d-b7d33e10c829"],

Cell[BoxData[
 RowBox[{"Ng34Pos", ":=", " ", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p4", "p3"], "-", "Bf34"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "Bf34"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Input",
 CellChangeTimes->{{3.516362438390625*^9, 3.51636243934375*^9}, {
   3.51636253609375*^9, 3.5163625365625*^9}, 3.568457441890836*^9, 
   3.62669625404884*^9, {3.804870597654211*^9, 3.804870598075777*^9}, {
   3.8048706421083584`*^9, 3.8048706425229297`*^9}, {3.8051020828316708`*^9, 
   3.805102167355263*^9}, {3.805102202608164*^9, 3.805102206949346*^9}, 
   3.805102581388358*^9, 3.8051069502531605`*^9, {3.8051070512545753`*^9, 
   3.805107053239428*^9}, {3.805107099392397*^9, 3.8051071016797934`*^9}, {
   3.8051078304575377`*^9, 3.8051078309732428`*^9}, {3.805108395682269*^9, 
   3.805108413799671*^9}, {3.8051084644290066`*^9, 3.8051084964765325`*^9}, {
   3.805455428743731*^9, 3.8054554479728956`*^9}, {3.8055265899468517`*^9, 
   3.8055265908738956`*^9}, {3.80552693117556*^9, 3.8055269416647406`*^9}},
 ExpressionUUID -> "8fea452e-fa0c-4283-9786-d12abb2153c8"],

Cell[BoxData[
 RowBox[{"Ng34Neg", ":=", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p3", "p4"], "-", "Bf34"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "Bf34"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Input",
 CellChangeTimes->{{3.51636244103125*^9, 3.5163624414375*^9}, {
   3.5163625370625*^9, 3.51636253753125*^9}, 3.568457440183836*^9, 
   3.6266962555059853`*^9, {3.8048705985063334`*^9, 3.8048705989518795`*^9}, {
   3.804870643127306*^9, 3.804870643450972*^9}, {3.80510218636352*^9, 
   3.8051022172602854`*^9}, 3.805102583314555*^9, 3.8051069467788057`*^9, {
   3.8051070550740027`*^9, 3.8051070563107834`*^9}, {3.8051071029180803`*^9, 
   3.8051071048091946`*^9}, {3.8051078356062007`*^9, 3.805107836512684*^9}, {
   3.8051083995944896`*^9, 3.8051084178019896`*^9}, {3.805108473118527*^9, 
   3.80510849956081*^9}, {3.805455436343891*^9, 3.8054554496062202`*^9}, {
   3.805526586754145*^9, 3.8055265880987577`*^9}, {3.805526942784585*^9, 
   3.805526943719621*^9}},
 ExpressionUUID -> "c58a4b20-11ab-4f91-b4d7-1eecc6d8a284"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng34", ":=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"onPositive", "[", 
      RowBox[{"p3", "-", "p4"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p4", "p3"], "-", "Bf34"}], "]"}], "Ng34Pos"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p4", "p3"], "-", "Bf34"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}], "+", " ", 
    RowBox[{
     RowBox[{"onNegative", "[", 
      RowBox[{"p3", "-", "p4"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p3", "p4"], "-", "Bf34"}], "]"}], "Ng34Neg"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p3", "p4"], "-", "Bf34"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.5163624423125*^9, 3.51636244390625*^9}, {
   3.51636253840625*^9, 3.516362539765625*^9}, {3.535528086984375*^9, 
   3.535528088671875*^9}, {3.5355281776875*^9, 3.535528179484375*^9}, {
   3.568456986935499*^9, 3.568457000885894*^9}, {3.568457185341836*^9, 
   3.568457191564836*^9}, {3.568458824569253*^9, 3.5684588327220683`*^9}, {
   3.6266947414768467`*^9, 3.6266947420358467`*^9}, {3.8038147531532173`*^9, 
   3.803814755750825*^9}, {3.803814814408286*^9, 3.8038148174901423`*^9}, {
   3.803815015440589*^9, 3.8038150183924537`*^9}, {3.803832263816705*^9, 
   3.803832301427907*^9}, 3.8042498917037106`*^9, {3.8045948124087176`*^9, 
   3.804594815765251*^9}, {3.8047802401956553`*^9, 3.8047802643012695`*^9}, {
   3.8047803833144674`*^9, 3.8047803863243704`*^9}, {3.804780494310973*^9, 
   3.8047804971710234`*^9}, {3.805011109376071*^9, 3.8050111142712226`*^9}, {
   3.805011550402109*^9, 3.8050115576711683`*^9}, {3.8050123822102957`*^9, 
   3.8050124108054376`*^9}, {3.805453860072528*^9, 3.805453881188744*^9}, {
   3.805455485095604*^9, 3.805455504423667*^9}, {3.8055298223633237`*^9, 
   3.805529825723857*^9}},
 ExpressionUUID -> "e0127e99-91a2-4c82-a16d-b7d33e10c829"],

Cell["New equations", "Text",
 CellChangeTimes->{{3.805524947233452*^9, 3.8055249549494934`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng1", "=", "1"}], ";"}]], "Input",
 CellChangeTimes->{3.51635891059375*^9, 3.626691991670635*^9},
 ExpressionUUID -> "aa92a39f-08b0-45e1-95b7-8c46f8b9b9cd"],

Cell[BoxData[
 RowBox[{"Ng12Pos", ":=", " ", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p2", "p1"], "-", "crit"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "crit"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Text",
 CellChangeTimes->{{3.516362438390625*^9, 3.51636243934375*^9}, {
   3.51636253609375*^9, 3.5163625365625*^9}, 3.568457441890836*^9, 
   3.62669625404884*^9, {3.804870597654211*^9, 3.804870598075777*^9}, {
   3.8048706421083584`*^9, 3.8048706425229297`*^9}, {3.8051020828316708`*^9, 
   3.805102167355263*^9}, {3.805102202608164*^9, 3.805102206949346*^9}, 
   3.805102581388358*^9, 3.8051069502531605`*^9, {3.8051070512545753`*^9, 
   3.805107053239428*^9}, {3.805107099392397*^9, 3.8051071016797934`*^9}, {
   3.8051078304575377`*^9, 3.8051078309732428`*^9}, {3.805108395682269*^9, 
   3.805108413799671*^9}, 3.8055264099145555`*^9, {3.805526577594593*^9, 
   3.8055265785376205`*^9}, {3.8055271226870155`*^9, 3.805527123869795*^9}, 
   3.805527740537723*^9},
 ExpressionUUID -> "9b00c93b-01a2-4bc9-b342-2670ce645581"],

Cell[BoxData[
 RowBox[{"Ng12Neg", ":=", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p1", "p2"], "-", "crit"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "crit"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Text",
 CellChangeTimes->{{3.51636244103125*^9, 3.5163624414375*^9}, {
   3.5163625370625*^9, 3.51636253753125*^9}, 3.568457440183836*^9, 
   3.6266962555059853`*^9, {3.8048705985063334`*^9, 3.8048705989518795`*^9}, {
   3.804870643127306*^9, 3.804870643450972*^9}, {3.80510218636352*^9, 
   3.8051022172602854`*^9}, 3.805102583314555*^9, 3.8051069467788057`*^9, {
   3.8051070550740027`*^9, 3.8051070563107834`*^9}, {3.8051071029180803`*^9, 
   3.8051071048091946`*^9}, {3.8051078356062007`*^9, 3.805107836512684*^9}, {
   3.8051083995944896`*^9, 3.8051084178019896`*^9}, 3.805526409916554*^9, 
   3.805526579778341*^9, {3.805527124670969*^9, 3.80552712535826*^9}, 
   3.80552774054072*^9},
 ExpressionUUID -> "49ba611d-d315-456d-9dc4-f724281fcea5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng12", ":=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"onPositive", "[", 
      RowBox[{"p1", "-", "p2"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p2", "p1"], "-", "Bf12"}], "]"}], "Ng12Pos"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p2", "p1"], "-", "Bf12"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}], "+", " ", 
    RowBox[{
     RowBox[{"onNegative", "[", 
      RowBox[{"p1", "-", "p2"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p1", "p2"], "-", "Bf12"}], "]"}], "Ng12Neg"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p1", "p2"], "-", "Bf12"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}]}]}], ";"}]], "Text",
 CellChangeTimes->{{3.5163624423125*^9, 3.51636244390625*^9}, {
   3.51636253840625*^9, 3.516362539765625*^9}, {3.535528086984375*^9, 
   3.535528088671875*^9}, {3.5355281776875*^9, 3.535528179484375*^9}, {
   3.568456986935499*^9, 3.568457000885894*^9}, {3.568457185341836*^9, 
   3.568457191564836*^9}, {3.568458824569253*^9, 3.5684588327220683`*^9}, {
   3.6266947414768467`*^9, 3.6266947420358467`*^9}, {3.8038147531532173`*^9, 
   3.803814755750825*^9}, {3.803814814408286*^9, 3.8038148174901423`*^9}, {
   3.803815015440589*^9, 3.8038150183924537`*^9}, {3.803832263816705*^9, 
   3.803832263932583*^9}, {3.804594795614038*^9, 3.8045947996778464`*^9}, {
   3.804780238611289*^9, 3.804780262738881*^9}, {3.804780377568401*^9, 
   3.8047803803115644`*^9}, {3.8047804500186615`*^9, 
   3.8047804526739225`*^9}, {3.805011095983277*^9, 3.8050111010313435`*^9}, {
   3.805011292970425*^9, 3.8050113217262278`*^9}, {3.8054538581435146`*^9, 
   3.8054538803995576`*^9}, {3.805527641611766*^9, 3.805527645459796*^9}, 
   3.805529598322423*^9},
 ExpressionUUID -> "e0127e99-91a2-4c82-a16d-b7d33e10c829"],

Cell[BoxData[
 RowBox[{"Ng32Pos", ":=", " ", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p2", "p3"], "-", "crit"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "crit"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Text",
 CellChangeTimes->{{3.516362438390625*^9, 3.51636243934375*^9}, {
   3.51636253609375*^9, 3.5163625365625*^9}, 3.568457441890836*^9, 
   3.62669625404884*^9, {3.804870597654211*^9, 3.804870598075777*^9}, {
   3.8048706421083584`*^9, 3.8048706425229297`*^9}, {3.8051020828316708`*^9, 
   3.805102167355263*^9}, {3.805102202608164*^9, 3.805102206949346*^9}, 
   3.805102581388358*^9, 3.8051069502531605`*^9, {3.8051070512545753`*^9, 
   3.805107053239428*^9}, {3.805107099392397*^9, 3.8051071016797934`*^9}, {
   3.8051078304575377`*^9, 3.8051078309732428`*^9}, {3.805108395682269*^9, 
   3.805108413799671*^9}, {3.8051084644290066`*^9, 3.8051084964765325`*^9}, 
   3.8055263349039297`*^9, 3.8055266140100307`*^9, {3.8055268414833913`*^9, 
   3.805526842481363*^9}, 3.8055270864154296`*^9, 3.8055296089434676`*^9},
 ExpressionUUID -> "8fea452e-fa0c-4283-9786-d12abb2153c8"],

Cell[BoxData[
 RowBox[{"Ng32Neg", ":=", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p3", "p2"], "-", "crit"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "crit"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Text",
 CellChangeTimes->{{3.51636244103125*^9, 3.5163624414375*^9}, {
   3.5163625370625*^9, 3.51636253753125*^9}, 3.568457440183836*^9, 
   3.6266962555059853`*^9, {3.8048705985063334`*^9, 3.8048705989518795`*^9}, {
   3.804870643127306*^9, 3.804870643450972*^9}, {3.80510218636352*^9, 
   3.8051022172602854`*^9}, 3.805102583314555*^9, 3.8051069467788057`*^9, {
   3.8051070550740027`*^9, 3.8051070563107834`*^9}, {3.8051071029180803`*^9, 
   3.8051071048091946`*^9}, {3.8051078356062007`*^9, 3.805107836512684*^9}, {
   3.8051083995944896`*^9, 3.8051084178019896`*^9}, {3.805108473118527*^9, 
   3.80510849956081*^9}, 3.805526328338702*^9, 3.805526614013027*^9, {
   3.8055268433864284`*^9, 3.8055268441995883`*^9}, 3.805527086420425*^9, 
   3.805529608946464*^9},
 ExpressionUUID -> "c58a4b20-11ab-4f91-b4d7-1eecc6d8a284"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng32", ":=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"onPositive", "[", 
      RowBox[{"p3", "-", "p2"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p2", "p3"], "-", "crit"}], "]"}], "Ng32Pos"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p2", "p3"], "-", "Bf32"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}], "+", " ", 
    RowBox[{
     RowBox[{"onNegative", "[", 
      RowBox[{"p3", "-", "p2"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p3", "p2"], "-", "crit"}], "]"}], "Ng32Neg"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p3", "p2"], "-", "Bf32"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}]}]}], ";"}]], "Text",
 CellChangeTimes->{{3.5163624423125*^9, 3.51636244390625*^9}, {
   3.51636253840625*^9, 3.516362539765625*^9}, {3.535528086984375*^9, 
   3.535528088671875*^9}, {3.5355281776875*^9, 3.535528179484375*^9}, {
   3.568456986935499*^9, 3.568457000885894*^9}, {3.568457185341836*^9, 
   3.568457191564836*^9}, {3.568458824569253*^9, 3.5684588327220683`*^9}, {
   3.6266947414768467`*^9, 3.6266947420358467`*^9}, {3.8038147531532173`*^9, 
   3.803814755750825*^9}, {3.803814814408286*^9, 3.8038148174901423`*^9}, {
   3.803815015440589*^9, 3.8038150183924537`*^9}, {3.803832263816705*^9, 
   3.803832301427907*^9}, 3.8042498917037106`*^9, {3.8045948124087176`*^9, 
   3.804594815765251*^9}, {3.8047802401956553`*^9, 3.8047802643012695`*^9}, {
   3.8047803833144674`*^9, 3.8047803863243704`*^9}, {3.804780494310973*^9, 
   3.8047804971710234`*^9}, {3.805011109376071*^9, 3.8050111142712226`*^9}, {
   3.805011550402109*^9, 3.8050115576711683`*^9}, {3.8050123822102957`*^9, 
   3.8050124108054376`*^9}, {3.805453860072528*^9, 3.805453881188744*^9}, {
   3.805527683510547*^9, 3.805527693371375*^9}, {3.805529507535071*^9, 
   3.80552951191755*^9}, 3.8055296089484615`*^9},
 ExpressionUUID -> "e0127e99-91a2-4c82-a16d-b7d33e10c829"],

Cell[BoxData[
 RowBox[{"Ng14Pos", ":=", " ", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p4", "p1"], "-", "crit"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "crit"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Text",
 CellChangeTimes->{{3.516362438390625*^9, 3.51636243934375*^9}, {
   3.51636253609375*^9, 3.5163625365625*^9}, 3.568457441890836*^9, 
   3.62669625404884*^9, {3.804870597654211*^9, 3.804870598075777*^9}, {
   3.8048706421083584`*^9, 3.8048706425229297`*^9}, {3.8051020828316708`*^9, 
   3.805102167355263*^9}, {3.805102202608164*^9, 3.805102206949346*^9}, 
   3.805102581388358*^9, 3.8051069502531605`*^9, {3.8051070512545753`*^9, 
   3.805107053239428*^9}, {3.805107099392397*^9, 3.8051071016797934`*^9}, {
   3.8051078304575377`*^9, 3.8051078309732428`*^9}, {3.805108395682269*^9, 
   3.805108413799671*^9}, {3.805455359033637*^9, 3.8054553672561555`*^9}, {
   3.8055249814321766`*^9, 3.8055249829356265`*^9}, 3.805526364135778*^9, 
   3.8055266227879753`*^9, 3.8055277773247786`*^9, {3.805527870193982*^9, 
   3.8055278767632055`*^9}, 3.8055297742309713`*^9},
 ExpressionUUID -> "9b00c93b-01a2-4bc9-b342-2670ce645581"],

Cell[BoxData[
 RowBox[{"Ng14Neg", ":=", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p1", "p4"], "-", "crit"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "crit"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Text",
 CellChangeTimes->{{3.51636244103125*^9, 3.5163624414375*^9}, {
   3.5163625370625*^9, 3.51636253753125*^9}, 3.568457440183836*^9, 
   3.6266962555059853`*^9, {3.8048705985063334`*^9, 3.8048705989518795`*^9}, {
   3.804870643127306*^9, 3.804870643450972*^9}, {3.80510218636352*^9, 
   3.8051022172602854`*^9}, 3.805102583314555*^9, 3.8051069467788057`*^9, {
   3.8051070550740027`*^9, 3.8051070563107834`*^9}, {3.8051071029180803`*^9, 
   3.8051071048091946`*^9}, {3.8051078356062007`*^9, 3.805107836512684*^9}, {
   3.8051083995944896`*^9, 3.8051084178019896`*^9}, {3.8054553623492203`*^9, 
   3.8054553692550936`*^9}, {3.805524983864667*^9, 3.8055249846158924`*^9}, 
   3.8055263641387744`*^9, 3.8055266227909737`*^9, 3.805527777326775*^9, 
   3.805527876765204*^9, 3.80552977423297*^9},
 ExpressionUUID -> "49ba611d-d315-456d-9dc4-f724281fcea5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng14", ":=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"onPositive", "[", 
      RowBox[{"p1", "-", "p4"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p4", "p1"], "-", "Bf14"}], "]"}], "Ng14Pos"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p4", "p1"], "-", "Bf14"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}], "+", " ", 
    RowBox[{
     RowBox[{"onNegative", "[", 
      RowBox[{"p1", "-", "p4"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p1", "p4"], "-", "Bf14"}], "]"}], "Ng14Neg"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p1", "p4"], "-", "Bf14"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}]}]}], ";"}]], "Text",
 CellChangeTimes->{{3.5163624423125*^9, 3.51636244390625*^9}, {
   3.51636253840625*^9, 3.516362539765625*^9}, {3.535528086984375*^9, 
   3.535528088671875*^9}, {3.5355281776875*^9, 3.535528179484375*^9}, {
   3.568456986935499*^9, 3.568457000885894*^9}, {3.568457185341836*^9, 
   3.568457191564836*^9}, {3.568458824569253*^9, 3.5684588327220683`*^9}, {
   3.6266947414768467`*^9, 3.6266947420358467`*^9}, {3.8038147531532173`*^9, 
   3.803814755750825*^9}, {3.803814814408286*^9, 3.8038148174901423`*^9}, {
   3.803815015440589*^9, 3.8038150183924537`*^9}, {3.803832263816705*^9, 
   3.803832263932583*^9}, {3.804594795614038*^9, 3.8045947996778464`*^9}, {
   3.804780238611289*^9, 3.804780262738881*^9}, {3.804780377568401*^9, 
   3.8047803803115644`*^9}, {3.8047804500186615`*^9, 
   3.8047804526739225`*^9}, {3.805011095983277*^9, 3.8050111010313435`*^9}, {
   3.805011292970425*^9, 3.8050113217262278`*^9}, {3.8054538581435146`*^9, 
   3.8054538803995576`*^9}, {3.8054553818650866`*^9, 
   3.8054554005118523`*^9}, {3.805527833475857*^9, 3.805527843570444*^9}, 
   3.8055295212149596`*^9, 3.8055297742359667`*^9},
 ExpressionUUID -> "e0127e99-91a2-4c82-a16d-b7d33e10c829"],

Cell[BoxData[
 RowBox[{"Ng34Pos", ":=", " ", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p4", "p3"], "-", "crit"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "crit"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Text",
 CellChangeTimes->{{3.516362438390625*^9, 3.51636243934375*^9}, {
   3.51636253609375*^9, 3.5163625365625*^9}, 3.568457441890836*^9, 
   3.62669625404884*^9, {3.804870597654211*^9, 3.804870598075777*^9}, {
   3.8048706421083584`*^9, 3.8048706425229297`*^9}, {3.8051020828316708`*^9, 
   3.805102167355263*^9}, {3.805102202608164*^9, 3.805102206949346*^9}, 
   3.805102581388358*^9, 3.8051069502531605`*^9, {3.8051070512545753`*^9, 
   3.805107053239428*^9}, {3.805107099392397*^9, 3.8051071016797934`*^9}, {
   3.8051078304575377`*^9, 3.8051078309732428`*^9}, {3.805108395682269*^9, 
   3.805108413799671*^9}, {3.8051084644290066`*^9, 3.8051084964765325`*^9}, {
   3.805455428743731*^9, 3.8054554479728956`*^9}, {3.8055249874229965`*^9, 
   3.805524988247146*^9}, 3.8055263703683476`*^9, 3.80552669658885*^9, 
   3.8055297742379646`*^9},
 ExpressionUUID -> "8fea452e-fa0c-4283-9786-d12abb2153c8"],

Cell[BoxData[
 RowBox[{"Ng34Neg", ":=", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p3", "p4"], "-", "crit"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "crit"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Text",
 CellChangeTimes->{{3.51636244103125*^9, 3.5163624414375*^9}, {
   3.5163625370625*^9, 3.51636253753125*^9}, 3.568457440183836*^9, 
   3.6266962555059853`*^9, {3.8048705985063334`*^9, 3.8048705989518795`*^9}, {
   3.804870643127306*^9, 3.804870643450972*^9}, {3.80510218636352*^9, 
   3.8051022172602854`*^9}, 3.805102583314555*^9, 3.8051069467788057`*^9, {
   3.8051070550740027`*^9, 3.8051070563107834`*^9}, {3.8051071029180803`*^9, 
   3.8051071048091946`*^9}, {3.8051078356062007`*^9, 3.805107836512684*^9}, {
   3.8051083995944896`*^9, 3.8051084178019896`*^9}, {3.805108473118527*^9, 
   3.80510849956081*^9}, {3.805455436343891*^9, 3.8054554496062202`*^9}, {
   3.805524989111255*^9, 3.805524989927414*^9}, 3.8055263703743415`*^9, 
   3.805526696590848*^9, 3.805529774238964*^9},
 ExpressionUUID -> "c58a4b20-11ab-4f91-b4d7-1eecc6d8a284"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng34", ":=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"onPositive", "[", 
      RowBox[{"p3", "-", "p4"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p4", "p3"], "-", "crit"}], "]"}], "Ng34Pos"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p4", "p3"], "-", "crit"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}], "+", " ", 
    RowBox[{
     RowBox[{"onNegative", "[", 
      RowBox[{"p3", "-", "p4"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p3", "p4"], "-", "crit"}], "]"}], "Ng34Neg"}], " ", 
       "+", " ", 
       RowBox[{
        RowBox[{"onNegative", "[", 
         RowBox[{
          FractionBox["p3", "p4"], "-", "crit"}], "]"}], "Ng1"}]}], " ", 
      ")"}]}]}]}], ";"}]], "Text",
 CellChangeTimes->{{3.5163624423125*^9, 3.51636244390625*^9}, {
   3.51636253840625*^9, 3.516362539765625*^9}, {3.535528086984375*^9, 
   3.535528088671875*^9}, {3.5355281776875*^9, 3.535528179484375*^9}, {
   3.568456986935499*^9, 3.568457000885894*^9}, {3.568457185341836*^9, 
   3.568457191564836*^9}, {3.568458824569253*^9, 3.5684588327220683`*^9}, {
   3.6266947414768467`*^9, 3.6266947420358467`*^9}, {3.8038147531532173`*^9, 
   3.803814755750825*^9}, {3.803814814408286*^9, 3.8038148174901423`*^9}, {
   3.803815015440589*^9, 3.8038150183924537`*^9}, {3.803832263816705*^9, 
   3.803832301427907*^9}, 3.8042498917037106`*^9, {3.8045948124087176`*^9, 
   3.804594815765251*^9}, {3.8047802401956553`*^9, 3.8047802643012695`*^9}, {
   3.8047803833144674`*^9, 3.8047803863243704`*^9}, {3.804780494310973*^9, 
   3.8047804971710234`*^9}, {3.805011109376071*^9, 3.8050111142712226`*^9}, {
   3.805011550402109*^9, 3.8050115576711683`*^9}, {3.8050123822102957`*^9, 
   3.8050124108054376`*^9}, {3.805453860072528*^9, 3.805453881188744*^9}, {
   3.805455485095604*^9, 3.805455504423667*^9}, 3.805529774240961*^9},
 ExpressionUUID -> "e0127e99-91a2-4c82-a16d-b7d33e10c829"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Equations", "Subsection",
 CellChangeTimes->{{3.5720181646087046`*^9, 3.572018175085304*^9}},
 ExpressionUUID -> "a2916a4d-8fbb-4d1c-8b7e-bcd550214e3b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"localExpressions", " ", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"kappa", "==", 
      RowBox[{"1", "+", 
       FractionBox["R", "cv"]}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"Kg", "==", 
      SqrtBox[
       FractionBox[
        RowBox[{
         SuperscriptBox["2", 
          FractionBox[
           RowBox[{"kappa", "+", "1"}], 
           RowBox[{"kappa", "-", "1"}]]], "kappa", 
         SuperscriptBox[
          RowBox[{"(", 
           FractionBox["1", 
            RowBox[{"kappa", "+", "1"}]], ")"}], 
          FractionBox[
           RowBox[{"kappa", "+", "1"}], 
           RowBox[{"kappa", "-", "1"}]]]}], "R"]]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"Ndenom", "\[Equal]", 
      RowBox[{
       SuperscriptBox["2", 
        RowBox[{
         FractionBox[
          RowBox[{"kappa", "+", "1"}], 
          RowBox[{"kappa", "-", "1"}]], "-", "1"}]], 
       RowBox[{"(", 
        RowBox[{"kappa", "-", "1"}], ")"}], 
       SuperscriptBox[
        RowBox[{"(", 
         FractionBox["1", 
          RowBox[{"kappa", "+", "1"}]], ")"}], 
        FractionBox[
         RowBox[{"kappa", "+", "1"}], 
         RowBox[{"kappa", "-", "1"}]]]}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"crit", "==", 
      RowBox[{
       SuperscriptBox["2", 
        FractionBox["kappa", 
         RowBox[{"kappa", "-", "1"}]]], 
       SuperscriptBox[
        RowBox[{"(", 
         FractionBox["1", 
          RowBox[{"kappa", "+", "1"}]], ")"}], 
        FractionBox["kappa", 
         RowBox[{"kappa", "-", "1"}]]]}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"Bf", "==", 
      RowBox[{
       SuperscriptBox["2", 
        FractionBox["kappa", 
         RowBox[{"kappa", "-", "1"}]]], 
       SuperscriptBox[
        RowBox[{"(", 
         FractionBox["1", 
          RowBox[{"kappa", "+", "1"}]], ")"}], 
        FractionBox["kappa", 
         RowBox[{"kappa", "-", "1"}]]]}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"cp", "==", 
      RowBox[{"cv", "+", "R"}]}]}], "\[IndentingNewLine]", "}"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{
  3.4458556656834745`*^9, {3.535528705078125*^9, 3.5355287096875*^9}, {
   3.572017731163913*^9, 3.5720178003058677`*^9}, {3.6266954587713203`*^9, 
   3.6266954813855815`*^9}, {3.6266956813155727`*^9, 
   3.6266957169681373`*^9}, {3.626695850528492*^9, 3.626695939328371*^9}, {
   3.6267882846603336`*^9, 3.626788286066334*^9}, {3.805015032534855*^9, 
   3.8050150348708344`*^9}, {3.8055256479961305`*^9, 3.8055256582105937`*^9}, 
   3.8055256895792384`*^9, {3.8055257273223047`*^9, 3.8055257298656807`*^9}, 
   3.8055259498950443`*^9, 3.8055260626667433`*^9, {3.8055261209216537`*^9, 
   3.8055261237827024`*^9}, 3.8055271676386476`*^9, {3.8055272416423116`*^9, 
   3.805527250725942*^9}, {3.8055274170813465`*^9, 3.805527443933647*^9}, {
   3.8055275137886157`*^9, 3.8055275142950935`*^9}, {3.805529845314649*^9, 
   3.805529848927924*^9}},
 ExpressionUUID -> "3dce3a4d-0f1b-4201-a446-f7764743c02d"],

Cell["Expressions for enthalpy flows and mass flows.", "Text",
 CellChangeTimes->{{3.804746240036062*^9, 3.8047462706494865`*^9}, {
  3.8050234936250772`*^9, 3.8050234975369177`*^9}, {3.8050236133720446`*^9, 
  3.805023619226123*^9}},
 ExpressionUUID -> "43913fb2-669a-4524-ac5e-12187c8eeb66"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"dE12", "=", 
   RowBox[{"qm12", " ", "cp", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{
       RowBox[{"onNegative", "[", "qm12", "]"}], " ", "T2"}], "+", 
      RowBox[{
       RowBox[{"onPositive", "[", "qm12", "]"}], " ", "T1"}]}], ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"dE32", "=", 
   RowBox[{"qm32", " ", "cp", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{
       RowBox[{"onNegative", "[", "qm32", "]"}], " ", "T2"}], "+", 
      RowBox[{
       RowBox[{"onPositive", "[", "qm32", "]"}], " ", "T3"}]}], ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"dE14", "=", 
   RowBox[{"qm14", " ", "cp", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{
       RowBox[{"onNegative", "[", "qm14", "]"}], " ", "T4"}], "+", 
      RowBox[{
       RowBox[{"onPositive", "[", "qm14", "]"}], " ", "T1"}]}], ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"dE34", "=", 
    RowBox[{"qm34", " ", "cp", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onNegative", "[", "qm34", "]"}], " ", "T4"}], "+", 
       RowBox[{
        RowBox[{"onPositive", "[", "qm34", "]"}], " ", "T3"}]}], ")"}]}]}], 
   ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qm12", "=", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"onPositive", "[", 
       RowBox[{"p1", "-", "p2"}], "]"}], " ", "qm12Pos"}], " ", "-", " ", 
     RowBox[{
      RowBox[{"onNegative", "[", 
       RowBox[{"p1", "-", "p2"}], "]"}], " ", "qm12Neg"}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qm32", "=", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"onPositive", "[", 
       RowBox[{"p3", "-", "p2"}], "]"}], " ", "qm32Pos"}], " ", "-", " ", 
     RowBox[{
      RowBox[{"onNegative", "[", 
       RowBox[{"p3", "-", "p2"}], "]"}], " ", "qm32Neg"}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qm14", "=", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"onPositive", "[", 
       RowBox[{"p1", "-", "p4"}], "]"}], " ", "qm14Pos"}], " ", "-", " ", 
     RowBox[{
      RowBox[{"onNegative", "[", 
       RowBox[{"p1", "-", "p4"}], "]"}], " ", "qm14Neg"}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qm34", "=", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"onPositive", "[", 
       RowBox[{"p3", "-", "p4"}], "]"}], " ", "qm34Pos"}], " ", "-", " ", 
     RowBox[{
      RowBox[{"onNegative", "[", 
       RowBox[{"p3", "-", "p4"}], "]"}], " ", "qm34Neg"}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.80383237607591*^9, 3.803832396131222*^9}, {
   3.8038324427980857`*^9, 3.8038324720249352`*^9}, {3.803838233573867*^9, 
   3.803838237124206*^9}, {3.8038382723089123`*^9, 3.803838277692359*^9}, {
   3.8038383135553665`*^9, 3.8038383229626627`*^9}, {3.8038383620823097`*^9, 
   3.8038384130417457`*^9}, {3.803879179048441*^9, 3.8038792169093857`*^9}, {
   3.8042446636414843`*^9, 3.8042447280930023`*^9}, {3.8043298347662134`*^9, 
   3.8043298969482193`*^9}, {3.804595261524449*^9, 3.8045952702194805`*^9}, {
   3.8047734459314575`*^9, 3.8047734583975983`*^9}, {3.8047735183527536`*^9, 
   3.8047735332284117`*^9}, {3.8047735897580986`*^9, 3.804773596479166*^9}, {
   3.804773639196103*^9, 3.804773641985228*^9}, {3.8050134070241923`*^9, 
   3.805013489328255*^9}, {3.8050142983794956`*^9, 3.8050143323871527`*^9}, {
   3.8050146165269275`*^9, 3.805014627908907*^9}, {3.8050147520594854`*^9, 
   3.8050147656028147`*^9}, 3.8050149800173407`*^9, 3.8050150486666126`*^9},
 ExpressionUUID -> "8277733c-2a5f-43f8-9d0e-67696feecb74"],

Cell["The system equations to be solved in each time step", "Text",
 CellChangeTimes->{{3.8047462843423653`*^9, 
  3.8047463091677523`*^9}},ExpressionUUID->"83de048e-9db7-455a-bff4-\
09172eb1a580"],

Cell[BoxData[
 RowBox[{
  RowBox[{"systemEquationsDA", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"qm12Pos", "==", 
       RowBox[{"Cf12", " ", "p1", " ", "p0", " ", 
        SqrtBox[
         FractionBox["T0", "T1"]], "Ng12"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"qm12Neg", "==", 
       RowBox[{"Cf12", " ", "p2", " ", "p0", " ", 
        SqrtBox[
         FractionBox["T0", "T2"]], "Ng12"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"qm32Pos", "==", 
       RowBox[{"Cf32", " ", "p3", " ", "p0", " ", 
        SqrtBox[
         FractionBox["T0", "T3"]], "Ng32"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"qm32Neg", "\[Equal]", 
       RowBox[{"Cf32", " ", "p2", " ", "p0", " ", 
        SqrtBox[
         FractionBox["T0", "T2"]], "Ng32"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"qm14Pos", "==", 
       RowBox[{"Cf14", " ", "p1", " ", "p0", " ", 
        SqrtBox[
         FractionBox["T0", "T1"]], "Ng14"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"qm14Neg", "==", 
       RowBox[{"Cf14", " ", "p4", " ", "p0", " ", 
        SqrtBox[
         FractionBox["T0", "T4"]], "Ng14"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"qm34Pos", "==", 
       RowBox[{"Cf34", " ", "p3", " ", "p0", " ", 
        SqrtBox[
         FractionBox["T0", "T3"]], "Ng34"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"qm34Neg", "\[Equal]", 
       RowBox[{"Cf34", " ", "p4", " ", "p0", " ", 
        SqrtBox[
         FractionBox["T0", "T4"]], "Ng34"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"dE2", "\[Equal]", 
       RowBox[{"dE12", "+", "dE32"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"dE4", "\[Equal]", 
       RowBox[{"dE14", "+", "dE34"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"dE1", "\[Equal]", 
       RowBox[{
        RowBox[{"-", "dE12"}], "-", "dE14"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"dE3", "\[Equal]", 
       RowBox[{
        RowBox[{"-", "dE32"}], "-", "dE34"}]}]}], "\[IndentingNewLine]", "\t",
      "}"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.516357230546875*^9, 3.51635723375*^9}, {
   3.516357406265625*^9, 3.51635741015625*^9}, {3.516357489421875*^9, 
   3.5163574921875*^9}, {3.516358561203125*^9, 3.5163585623125*^9}, {
   3.5163588638125*^9, 3.516358872546875*^9}, 3.5163622335*^9, 
   3.516362283375*^9, 3.516362316140625*^9, {3.516362447*^9, 
   3.51636244796875*^9}, {3.51636254234375*^9, 3.516362542796875*^9}, {
   3.53552809378125*^9, 3.53552809640625*^9}, {3.535528183453125*^9, 
   3.53552818775*^9}, {3.5684570204198475`*^9, 3.568457022761081*^9}, {
   3.5684570541492195`*^9, 3.5684570555233574`*^9}, {3.5684589588056755`*^9, 
   3.5684589653553305`*^9}, {3.5720176679082947`*^9, 3.572017683947212*^9}, 
   3.5720179338355055`*^9, {3.626691880745544*^9, 3.6266918864211116`*^9}, 
   3.6266931723286896`*^9, {3.6266937584923*^9, 3.6266939161240616`*^9}, 
   3.626694036263074*^9, 3.6266946351268463`*^9, {3.6266948812055693`*^9, 
   3.626694912361685*^9}, {3.626786603246106*^9, 3.6267866300827894`*^9}, {
   3.6267867846422443`*^9, 3.6267868052153015`*^9}, {3.803813600915059*^9, 
   3.803813601819543*^9}, {3.8038136362489204`*^9, 3.803813637479523*^9}, {
   3.8038139397390347`*^9, 3.803813963431733*^9}, {3.803814574885434*^9, 
   3.803814604078475*^9}, {3.8038147583283463`*^9, 3.803814764137517*^9}, {
   3.803814820319522*^9, 3.8038148306362686`*^9}, {3.8038150195607843`*^9, 
   3.8038150256887856`*^9}, {3.8038323443356476`*^9, 
   3.8038323669093623`*^9}, {3.803832485537998*^9, 3.8038324962919044`*^9}, {
   3.80383837399702*^9, 3.803838378510364*^9}, {3.803838452862671*^9, 
   3.803838477349411*^9}, {3.8038788068094063`*^9, 3.8038788579816217`*^9}, {
   3.8038789114125137`*^9, 3.8038789130618067`*^9}, {3.803878944596278*^9, 
   3.803878978978812*^9}, 3.803879232824969*^9, {3.8038792848812723`*^9, 
   3.8038793326220284`*^9}, 3.8038808992640285`*^9, {3.803881076163557*^9, 
   3.803881084063407*^9}, {3.803881119528825*^9, 3.803881122846402*^9}, {
   3.8038812060086203`*^9, 3.803881218326913*^9}, {3.80424450481032*^9, 
   3.804244531639645*^9}, {3.804329927870107*^9, 3.804329931581786*^9}, {
   3.804329985944465*^9, 3.8043300445859423`*^9}, {3.804330086104957*^9, 
   3.804330146425871*^9}, {3.804343144266903*^9, 3.80434314577536*^9}, {
   3.8044052563621235`*^9, 3.804405260508961*^9}, {3.804589635428796*^9, 
   3.8045896435873804`*^9}, {3.804594218155691*^9, 3.804594220578191*^9}, {
   3.804595095221991*^9, 3.8045950982268934`*^9}, 3.804595345574751*^9, {
   3.804773459491471*^9, 3.8047734688308353`*^9}, {3.8047735355570073`*^9, 
   3.8047735482868767`*^9}, {3.8047735971185064`*^9, 
   3.8047735998317075`*^9}, {3.8047736429182663`*^9, 
   3.8047736460290556`*^9}, {3.8050134971542053`*^9, 
   3.8050135412951593`*^9}, {3.8050143397793303`*^9, 3.805014393142315*^9}, {
   3.805014633479599*^9, 3.805014668161903*^9}, {3.8050147674940705`*^9, 
   3.8050147795306587`*^9}, 3.805014943651765*^9, {3.805455568669397*^9, 
   3.805455634417577*^9}, 3.8054560708467517`*^9},
 ExpressionUUID -> "cc01b7ab-0e24-4eb8-94a2-02519e9b1d7d"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Boundaries", "Subsection",
 CellChangeTimes->{{3.8050179915385733`*^9, 
  3.8050179925094385`*^9}},ExpressionUUID->"c9b83533-6c3b-4ba2-8e82-\
200441668409"],

Cell["The boundary equations for transmission line ports", "Text",
 CellChangeTimes->{{3.804746317156512*^9, 
  3.8047463535379844`*^9}},ExpressionUUID->"db41c331-92ca-48f4-a665-\
2783204ff18e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"systemBoundaryEquations", " ", "=", " ", 
   RowBox[{"{", " ", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"p2", " ", "==", 
      RowBox[{"(", 
       RowBox[{"c2", " ", "+", " ", 
        RowBox[{"Zc2", " ", "dE2"}]}], ")"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"p4", " ", "==", 
      RowBox[{"(", 
       RowBox[{"c4", " ", "+", " ", 
        RowBox[{"Zc4", " ", "dE4"}]}], ")"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"p1", " ", "==", 
      RowBox[{"(", 
       RowBox[{"c1", " ", "+", " ", 
        RowBox[{"Zc1", " ", "dE1"}]}], ")"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"p3", " ", "==", 
      RowBox[{"(", 
       RowBox[{"c3", " ", "+", " ", 
        RowBox[{"Zc3", " ", "dE3"}]}], ")"}]}]}], "\[IndentingNewLine]", 
    "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.535370830684037*^9, 3.535370830684037*^9}, {
   3.572017824436248*^9, 3.5720178479275913`*^9}, 3.8036343375137377`*^9, {
   3.8038147645287867`*^9, 3.803814766449218*^9}, {3.8038148317046523`*^9, 
   3.8038148345849953`*^9}, {3.803815027032193*^9, 3.803815029415818*^9}, {
   3.803879036853116*^9, 3.80387905140011*^9}, {3.804246374831381*^9, 
   3.804246378656437*^9}, {3.8043301576482954`*^9, 3.804330166016487*^9}, {
   3.8045893035121727`*^9, 3.804589307920622*^9}, {3.804773470114512*^9, 
   3.8047734720625024`*^9}, {3.804773549431696*^9, 3.804773551532529*^9}, {
   3.8047736008256826`*^9, 3.80477360307736*^9}, {3.8047736469980555`*^9, 
   3.804773649187797*^9}, {3.805013544678584*^9, 3.805013546143323*^9}, {
   3.8050143972486534`*^9, 3.8050143996627965`*^9}, {3.805014669485262*^9, 
   3.8050146717632275`*^9}, {3.805014785109968*^9, 3.805014786482767*^9}},
 ExpressionUUID -> "096b47ac-1067-49dc-aae2-345c4e0b0101"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Independent  Variables", "Subsection",
 CellChangeTimes->{{3.6267881656593337`*^9, 
  3.6267881959573336`*^9}},ExpressionUUID->"7aee13e0-4e61-4e17-a44c-\
47e7f85d055c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"systemVariables", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
    "qm12Pos", ",", "qm12Neg", ",", "qm32Pos", ",", "qm32Neg", ",", "qm14Pos",
      ",", "qm14Neg", ",", "qm34Pos", ",", "qm34Neg", ",", "dE2", ",", "dE4", 
     ",", "dE1", ",", "dE3", ",", "p2", ",", "p4", ",", "p1", ",", "p3"}], 
    "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.572018112971751*^9, 3.5720181129797516`*^9}, {
   3.626786645653346*^9, 3.6267866499337745`*^9}, 3.803813603425622*^9, 
   3.803813638726808*^9, {3.8038139419706807`*^9, 3.8038139645842676`*^9}, {
   3.803814578963583*^9, 3.803814605431775*^9}, {3.8038147676781607`*^9, 
   3.80381476850732*^9}, {3.8038148358126736`*^9, 3.803814837399825*^9}, {
   3.803815030231347*^9, 3.8038150317115126`*^9}, {3.8038790662348075`*^9, 
   3.8038791482881703`*^9}, {3.803880885646076*^9, 3.803880907960059*^9}, 
   3.8043301822193403`*^9, {3.8043302232986097`*^9, 3.8043302623110247`*^9}, 
   3.804343165556447*^9, {3.804589672114957*^9, 3.8045896926008244`*^9}, 
   3.8045951053705225`*^9, {3.8047734729745693`*^9, 3.8047734734310904`*^9}, {
   3.8047735524345984`*^9, 3.804773553131879*^9}, {3.8047736037776375`*^9, 
   3.8047736042091923`*^9}, {3.80477365010585*^9, 3.804773650935993*^9}, {
   3.805013547936124*^9, 3.805013569966762*^9}, {3.8050144015004883`*^9, 
   3.8050144049803495`*^9}, {3.8050146729333415`*^9, 
   3.8050146763132105`*^9}, {3.8050147876557636`*^9, 3.805014790943303*^9}},
 ExpressionUUID -> "fe51b2c5-a53c-4507-b908-0368ca8c172a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Expressions", "Subsection",ExpressionUUID->"10c249fb-6d63-498e-a531-ba636643e74d"],

Cell["\<\
Variables are calculated that are not directly involved in the system \
equations. The inlet flow is calculated as the outlet flow with reversed sign.\
\>", "Text",
 CellChangeTimes->{{3.8047463779198356`*^9, 
  3.8047464099747696`*^9}},ExpressionUUID->"42d118ef-f168-49d8-a2d9-\
b82ec1237dcd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"expressions", " ", "=", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"qm1", " ", "==", " ", 
      RowBox[{
       RowBox[{"-", "qm12"}], " ", "-", " ", "qm14"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"qm2", " ", "==", " ", 
      RowBox[{"qm12", " ", "+", " ", "qm32"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"qm3", " ", "==", " ", 
      RowBox[{
       RowBox[{"-", "qm32"}], " ", "-", " ", "qm34"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"qm4", " ", "==", " ", 
      RowBox[{"qm14", " ", "+", " ", "qm34"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"Ng32e", "==", "Ng32"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Ng12e", "==", "Ng12"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Ng34e", "==", "Ng34"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Ng14e", "==", "Ng14"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Bfe", "\[Equal]", "Bf"}]}], "\n", "   ", "}"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{
  3.8038147721570067`*^9, 3.8038148386372843`*^9, 3.8038150328018894`*^9, {
   3.8044053445348654`*^9, 3.8044053558825912`*^9}, 3.8045897102436247`*^9, {
   3.8045950711847854`*^9, 3.8045950711887817`*^9}, {3.804595468509948*^9, 
   3.8045954915521746`*^9}, {3.8047734745419445`*^9, 3.804773477071336*^9}, {
   3.8047735606900826`*^9, 3.804773563590092*^9}, 3.8047736049903865`*^9, 
   3.804773652044851*^9, {3.805013572903577*^9, 3.8050135830580597`*^9}, {
   3.805014409309025*^9, 3.805014413554208*^9}, {3.8050144456841593`*^9, 
   3.805014449480112*^9}, {3.80501467925416*^9, 3.805014681460928*^9}, {
   3.805014792817201*^9, 3.805014795795804*^9}, {3.805023988434838*^9, 
   3.805024032501109*^9}, {3.805525309275005*^9, 3.805525309771493*^9}, 
   3.805525497428443*^9, 3.8055260034368134`*^9},
 ExpressionUUID -> "52249328-bf8f-4534-9a6e-18460255eed0"],

Cell[BoxData[
 RowBox[{"Compgen", "[", "file", "]"}]], "Input",
 ExpressionUUID -> "f9091d30-60b2-4284-8990-0c9fbbe94279"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1120, 794},
WindowMargins->{{Automatic, 256}, {39, Automatic}},
PrintingCopies->1,
PrintingPageRange->{32000, 32000},
PrintingOptions->{"Magnification"->1.,
"PaperOrientation"->"Portrait",
"PaperSize"->{595.1999999999999, 841.92}},
PrivateNotebookOptions->{"VersionedStylesheet"->{"Default.nb"[8.] -> False}},
FrontEndVersion->"11.0 for Microsoft Windows (64-bit) (September 21, 2016)",
StyleDefinitions->"Default.nb",
ExpressionUUID -> "aabbf272-7e04-4538-a8f6-5461d068751a"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 378, 6, 70, "Section"],
Cell[961, 30, 355, 6, 30, "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[1319, 38, 203, 3, 30, "Text"],
Cell[1525, 43, 599, 8, 30, "Output"],
Cell[2127, 53, 529, 12, 30, "Input"],
Cell[2659, 67, 788, 15, 30, "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[CellGroupData[{
Cell[3472, 86, 1833, 38, 183, "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.}],
Cell[5308, 126, 3450, 50, 30, "Output",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.}],
Cell[8761, 178, 378, 8, 30, "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.}]
}, Closed]],
Cell[CellGroupData[{
Cell[9176, 191, 98, 0, 41, "Subsection"],
Cell[9277, 193, 1001, 16, 68, "Text"],
Cell[10281, 211, 20299, 253, 172, "Graphics"],
Cell[30583, 466, 2486, 53, 215, "Input"],
Cell[33072, 521, 646, 13, 69, "Input"],
Cell[33721, 536, 3248, 70, 297, "Input"],
Cell[36972, 608, 1647, 29, 126, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[38656, 642, 145, 2, 49, "Subsection",
 Evaluatable->False,
 PageBreakAbove->False],
Cell[38804, 646, 230, 4, 30, "Text"],
Cell[39037, 652, 323, 7, 30, "Input"],
Cell[39363, 661, 376, 7, 30, "Text"],
Cell[39742, 670, 1953, 53, 170, "Input"],
Cell[41698, 725, 711, 14, 88, "Input"],
Cell[42412, 741, 249, 4, 30, "Text"],
Cell[42664, 747, 191, 4, 30, "Input"],
Cell[42858, 753, 1192, 25, 74, "Input"],
Cell[44053, 780, 1145, 24, 74, "Input"],
Cell[45201, 806, 1449, 42, 94, "Input"],
Cell[46653, 850, 1246, 26, 74, "Input"],
Cell[47902, 878, 1188, 25, 74, "Input"],
Cell[49093, 905, 2189, 50, 94, "Input"],
Cell[51285, 957, 1246, 26, 74, "Input"],
Cell[52534, 985, 1195, 25, 74, "Input"],
Cell[53732, 1012, 1454, 43, 94, "Input"],
Cell[55189, 1057, 1293, 26, 74, "Input"],
Cell[56485, 1085, 1240, 26, 74, "Input"],
Cell[57728, 1113, 2188, 50, 94, "Input"],
Cell[59919, 1165, 97, 1, 30, "Text"],
Cell[60019, 1168, 191, 4, 30, "Input"],
Cell[60213, 1174, 1239, 26, 72, "Text"],
Cell[61455, 1202, 1158, 25, 72, "Text"],
Cell[62616, 1229, 2083, 49, 93, "Text"],
Cell[64702, 1280, 1291, 26, 72, "Text"],
Cell[65996, 1308, 1235, 26, 72, "Text"],
Cell[67234, 1336, 2208, 50, 93, "Text"],
Cell[69445, 1388, 1341, 27, 72, "Text"],
Cell[70789, 1417, 1263, 26, 72, "Text"],
Cell[72055, 1445, 2163, 50, 93, "Text"],
Cell[74221, 1497, 1316, 27, 72, "Text"],
Cell[75540, 1526, 1259, 26, 72, "Text"],
Cell[76802, 1554, 2157, 49, 93, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[78996, 1608, 158, 2, 49, "Subsection"],
Cell[79157, 1612, 3034, 78, 359, "Input"],
Cell[82194, 1692, 293, 4, 30, "Text"],
Cell[82490, 1698, 3691, 99, 202, "Input"],
Cell[86184, 1799, 197, 3, 30, "Text"],
Cell[86384, 1804, 5116, 91, 554, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[91537, 1900, 162, 3, 49, "Subsection"],
Cell[91702, 1905, 194, 3, 30, "Text"],
Cell[91899, 1910, 1772, 34, 126, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[93708, 1949, 174, 3, 49, "Subsection"],
Cell[93885, 1954, 1527, 24, 30, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[95449, 1983, 88, 0, 49, "Subsection"],
Cell[95540, 1985, 304, 6, 30, "Text"],
Cell[95847, 1993, 1866, 35, 221, "Input"],
Cell[97716, 2030, 122, 2, 30, "Input"]
}, Open  ]]
}, Open  ]]
}
]
*)

