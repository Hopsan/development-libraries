(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     33247,        729]
NotebookOptionsPosition[     30825,        654]
NotebookOutlinePosition[     31479,        676]
CellTagsIndexPosition[     31436,        673]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Connector", "Section",
 CellChangeTimes->{{3.5353721095590158`*^9, 3.53537211830196*^9}, 
   3.5353722343957663`*^9, {3.8036340525046444`*^9, 3.8036340541474895`*^9}, {
   3.8056149554872293`*^9, 3.8056149578457985`*^9}, {3.806652398001198*^9, 
   3.80665239950165*^9}},
 ExpressionUUID -> "a8f57cf9-7f46-4f7f-baf1-14fe362c0648"],

Cell[BoxData[
 RowBox[{"<<", "C:\\\\Hopsan\\Compgen\\CompgenNG.mx"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.525533906765625*^9, 3.525533914734375*^9}, 
   3.577601924150117*^9, 3.753532820170209*^9, 3.753532868377143*^9, 
   3.762728078322752*^9},
 ExpressionUUID -> "844b3beb-a2fd-4fc9-87e6-b4719622a54d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"path", "=", 
   RowBox[{"ToFileName", "[", 
    RowBox[{"{", 
     RowBox[{
     "\"\<C:\>\"", ",", "\"\<Users\>\"", ",", "\"\<petkr14\>\"", ",", 
      "\"\<Dropbox\>\"", ",", "\"\<HopsanComponents\>\"", ",", 
      "\"\<PneumaticDevelop\>\"", ",", "\"\<PneumaticComponents\>\""}], "}"}],
     "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.8036224011917915`*^9, 3.80362242280663*^9}, 
   3.8049349854692307`*^9, 3.8050176650180016`*^9},
 ExpressionUUID -> "9fffce38-6c31-4ac2-8fe0-709b9320587f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"path", "=", 
   RowBox[{"ToFileName", "[", 
    RowBox[{"{", 
     RowBox[{
     "\"\<H:\>\"", ",", "\"\<PettersDropbox\>\"", ",", "\"\<Dropbox\>\"", 
      ",", "\"\<HopsanComponents\>\"", ",", "\"\<PneumaticDevelop\>\"", ",", 
      "\"\<PneumaticComponents\>\""}], "}"}], "]"}]}], ";"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.754985113560959*^9, 3.754985114033472*^9}, {
   3.757063485852047*^9, 3.757063485995899*^9}, 3.76272807832475*^9, {
   3.7747826878685503`*^9, 3.774782689771587*^9}, {3.7747982976294117`*^9, 
   3.774798305629897*^9}, {3.803622448189187*^9, 3.8036224560248623`*^9}, {
   3.8049349812375946`*^9, 3.804934981752065*^9}, 3.8050176672355585`*^9},
 ExpressionUUID -> "b1a17ebe-ca25-48b4-8480-1a36ba699ce9"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"domain", "=", "\"\<Pneumatic\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{"displayName", "=", "\"\<Restrictor\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{"brief", "=", "\"\<Pneumatic restrictor\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{"componentType", "=", "\"\<ComponentQ\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
  "author", "=", 
   "\"\<Petter Krus*<petter.krus@liu.se>, Victor Juliano De Negri** \
<victor.de.negri@ufsc.br>\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
  "affiliation", " ", "=", " ", 
   "\"\<*IEI/Flumes, Link\[ODoubleDot]ping University, **Universidade Federal \
de Santa Catarina\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetFilenames", "[", 
   RowBox[{"path", ",", "domain", ",", "displayName"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ResetComponentVariables", "[", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Date", "[", "]"}]}], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.},
 CellChangeTimes->{{3.513785360140625*^9, 3.513785397734375*^9}, 
   3.5137854683125*^9, 3.5153945210188417`*^9, {3.51608651940625*^9, 
   3.516086528875*^9}, {3.516356859703125*^9, 3.516356873*^9}, {
   3.5353705928437004`*^9, 3.5353705930310946`*^9}, {3.535528004859375*^9, 
   3.535528013828125*^9}, 3.5757768090335207`*^9, {3.6058649145952826`*^9, 
   3.6058649172112823`*^9}, 3.6266921123196993`*^9, {3.8036340643406515`*^9, 
   3.8036340782586813`*^9}, 3.805022093004465*^9, {3.8056149610634813`*^9, 
   3.8056149685627427`*^9}, 3.8056280124531794`*^9},
 ExpressionUUID -> "f1d28f9a-2912-4dec-a44b-799e1f1980c6"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "2020", ",", "8", ",", "5", ",", "15", ",", "48", ",", 
   "12.7417257`8.857803207916582"}], "}"}]], "Output",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.},
 CellChangeTimes->{{3.626692080734541*^9, 3.6266921169441614`*^9}, {
   3.626693966767125*^9, 3.6266939824806967`*^9}, 3.6266940419696445`*^9, 
   3.6266947483748465`*^9, 3.626694938685317*^9, {3.626694985830031*^9, 
   3.6266950021316605`*^9}, 3.626695489603403*^9, 3.626695731138554*^9, 
   3.6266959441988583`*^9, 3.6266962597274075`*^9, {3.6266980423116484`*^9, 
   3.626698064610878*^9}, 3.6267530586610126`*^9, 3.626786702730054*^9, {
   3.6267867927080507`*^9, 3.6267868102418036`*^9}, 3.6267869371954975`*^9, 
   3.6267883481153336`*^9, 3.6267885458053336`*^9, {3.6267886029373336`*^9, 
   3.626788627960334*^9}, 3.626788667118334*^9, {3.626788725817361*^9, 
   3.6267887750692854`*^9}, 3.8036344883826056`*^9, 3.803634647451294*^9, 
   3.803813662538252*^9, 3.8042428347360086`*^9, 3.8042428756538005`*^9, 
   3.8044068065732937`*^9, 3.804406886243649*^9, 3.804870692054841*^9, 
   3.804870815676323*^9, 3.804920406433749*^9, 3.805022093004465*^9, 
   3.8051072285590453`*^9, 3.80510730546095*^9, 3.805107459782553*^9, 
   3.8051078642885723`*^9, 3.8056150680541162`*^9, 3.8056237588861*^9, 
   3.805624092803662*^9},
 ExpressionUUID -> "9c2a00c1-c4de-4431-8c38-1b9eb4ff839b"],

Cell[BoxData[
 RowBox[{"eps", "=."}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.},
 CellChangeTimes->{{3.575777009031903*^9, 3.5757770093129168`*^9}, 
   3.805022093004465*^9},
 ExpressionUUID -> "a791c2d5-12aa-4a0b-9cf3-ef462f51bbf0"]
}, Closed]],

Cell[CellGroupData[{

Cell["Component description", "Subsection",ExpressionUUID->"697bf27a-0389-4374-80d9-1c2e8b3bc37b"],

Cell[TextData[{
 "This is a simple fixed pneumatic restrictor with two ports. \n\n",
 Cell[GraphicsData["Metafile", "\<\
CF5dJ6E]HGAYHf4PEfU^I6mgLb15CDHPAVmbKF5d0@0001OT0@0006`00016000000000103000<0@00
oOoooogooolU3P00Q@@00215CDH00040i1L006l0000300000000000000000000HA<006PK003B0000
:@40000000000000000004/d0`0NR0@0AP0002`0000P0000ADe6:`500@0L00004000008@`=/00000
F08005P200160000m0000>P00015CDH[<4020100000400000020?b90100<0000000002Y0000T0000
60000000P3l0000000000000P3l0000000000390004L00004000000000000000001FA000RD<Z@000
900001P00000080o000000000000080o00000000000U@000400000@0000000007d0300`000000000
7T0900`0000000008D0700`000000000:T0002@0000H0000/08/>P0000000000/08/>P0084<00000
140000`0000000008@0000P0000L0000200004/000100000<00000D0000P00000@000040000@0000
00000000001H0`004P40000000000000F0<00181000T000090000;02;3X0000000000;02;3X00213
00000080000R000030000?oooom60000l0H00>@60015CDH[:d0000`0000000007T0600`000000000
8D0500`0000000007T0900`000000000:T0002@0000H0000/08/>P0000000000/08/>P0084<00000
8D0700`00000000024000c`0000`00000Q30f`@000000000000000000020;4Q90000080/B4V0;<Q8
0000080/b4P00@61<d000@`000000000940400`000000000:T0002@0000H00001NS5@00000000000
7j[3@19R94<fZXY024011J@5002H1@000Q30f`8000040000R0D00040001/0000oOoooogooomH0000
;@000?goooomooooJ@400;<0000PADe6000108P5000900000@000000000000000000064C001X6`00
dP0002T10000000000000000001;=0<07XP404H0000/0000800004E=AR/1@0007000010000024<3K
000005P2001H0P00AP0003`4000`1000ADe6:c100P0@000010000000P3lR@0@030000000000Z@000
900001P00000080o000000000000080o00000000000b@001700001000000000000000000[48002a2
:T0002@0000H00000020?`00000000000020?`00000000009D00010000040000000001m00`0<0000
000001i02@0<0000000002501`0<0000000002Y0000T000060000<SSLD00000000000<SSLD3N_K?3
Zk8Ha0Q000>X0000W000008@`=/@000000000:A6jd:agR53nd[[@[7N8D=oC^]2JnDQ@gm>jd:gkB53
Odk[@^k0;4=oC^]2>/T/@o]:jd;dcba3Y4K[@_C?;4=EbKi2m<l/@ok4_T;dcba3N/6n@S[9;4=j`Ki2
k/0/@g[1_T:gkB53N/6n@V_U8D?na;i2/MhQ@eG9_T:agR5300<30`430`<10`<30@<3PaA0080@0000
10000?ooool8@042>00002`000024<3K000009P000000000OGL7?`<0000008100000008@`=/00000
0000oaE0000@0000100000400008@082>00002`000024<3K000009P000000000VYTI?`<000000810
0000008@`=/000000000o`Q00`</00008000008@`=/2000002000:f^_T98FbM3cT;[@TQK9d<00@<3
5D030100000400000P0000Q0108h0000;000008@`=/00000V0000000002JVATo0`000000P4000000
0Q30f`000000003o24050eP0001<00000Q30f`L000008000BBg:@^Q<9D=9;LY2j4`U@g^TcT9jGbI3
iDgE@_mW9T=@mm]2QW0V@g2/h4;XC2E3L:cP@^Q<9D<00`<30`<30AE01@0@0000100000@00008@0H2
>00002`000024<3K000009P000000000VYTI?`<0000008100000008@`=/000000000o`Q01`=H0000
C000008@`=/7000002000;lBbT9DI2U3_a;:@UAT:D?`RLi2`U4X@e/ceD8mBBQ3aMcK@[I0:4?UTN12
E6@Y@nFAh49DI2U300<30`<30`4E@0L0400000@000060000:T0002@0000H00000020?`0000000000
0020?`0000000000:T0002@0000H00000020?`00000000000020?`0000000000:T0002@0000H0000
0020?`00000000000020?`00000000009T00010000040000000000Q020@H00003000008@`=/00000
0`0043A0200<00000000024000080000HP0000`000010000C00006@0003moooooOoooeP0000]0000
oOoooogooomL0000<@0002T0ZP00000000000000P3l0000000000000P3l000000000000000000000
000000000000000000000280000<0000ooooodH0000L0000400004E=AR/2@00030000000000>0000
50000000000@0000500000Q00PPT00006000008@`=/100000`00000000000000000001]00@100000
=000008000020000Bfhe_h1/=Klgnje2PoT_@P<0001;KSFoP6`e_eZ@[4:0K3FoBfhe_m4S;D8Q0000
20000680000<00000@000240000800007P0001P0002P000000000;X2000=0@00700000P0000Q0000
2000024000080000L`0000`000000000700000P0000U000030000000080U0000300000L0080U0000
300000h0080I000030000?ooo`0H000030000000000B000030000080000C000030000040000D0000
300000d0000E000030000040000F000030000000000=00004000000000000000>P0000`0000:0000
6`00010000000000000002<0000P0000k=G7@00000000000XGS7@09]94?EG8e0900002@0003/eLM0
00000000002QN<M00VdT@mELSD040000L`0000`0000000003@000100002P000000000580001`0@00
0@0001000007000000000000002l0P00000000L20R9C07T0L`1d06D0K@0000000000000000000000
000000000000000000000000000000000000000000000000000007l7002XfDl0aNB/MjSIC`03iZag
5BP009WZ[7Li;Gf<22CC6000nPT00000e2<0moloQT<0000000000000000000000000000000000000
003j2D440000000000000000003o1`00000000000000000022CC60000000000000000000000h]oX9
0@0000000000000000000000003h:]HH00000<00nPT00000000000000@4@A]<H00000000000E:000
00010@0000000000A>5?042P/7NA[X_ko_ooo`CJC`2[KK5g00000=9]/GL@9=<H003j2FAf00P00000
9@0000`000010000AP0002P0000L0000AdA9@`80003ooooooooooeD0000Z00000000024000080000
HP0000`000010000>P0000`0000400008@0000P0000N0000600000000000000000000000000T0000
90000000P3d0000000000000P3d0000000000080001O0000>0000080000h0000000003P000000000
02810200000000000000000000000000000002D0000<00000P0002D0000<00001@00P3/000080000
6`000100001;1@00200005P0000X000000000000003oooooooooo`<0001;1@P0C0D:04`5300f0000
400004`5002K0P00F00002P00000000000000?oooooooooo0`0004`5W@9;1Ih2B`FN0SH0000@0000
2@0009h2001H0000:000000000000000ooooooooool300002@2N0PP0W@8809/2=P00010000080000
300005P0000X000000000000003oooooooooo`<0000800X02@0800T0200m0000200003`000080000
@00001P00000000000000?oooooooooo9@0000`0000700209@0000`000000020900002@000000811
000000000000081100000000000200008P0000`0003ooooo:00000`000020000>P0000`0000:0000
AP0001@000080000AdA9@`<0000R000030000?oooolR000030000?oooolU0000300000d0080X0000
30000040000R000030000?oooolR000030000?kooom60000o0400?010015CDH[;40002@0000H0000
0020?`00000000000020?`0008000020:T0002@0000H00001NS5@000000000007j[3@19R94<fZXY0
:T0002@0000H0000/08/>P0000000000/08/>P0084<00000940000`000000000:d0000`000000000
7T0600`0000000008D0500`000000000240312P0000L00000Q30f`000000000@0000P000080005I4
0029@cA00`0<0000000001i02@0<0000000002Y0000T000060000;02;3X0000000000;02;3X00213
000002501`0<0000000002Y0000T000060000;02;3X0000000000;02;3X00213000002Y0000T0000
60000000P3l0000000000000P3l00000000002Y0000T000060000000P3l0000000000000P3l00000
000002I0000@000010000000000U@000400000@0000000007d0300`0000000007T0900`000000000
8D0700`000000000:T0002@0000H00000020?`00000000000020?nBL=DBXORa3140000`000000000
8@0000P0000L0000200004/000100000<00000D0000P00000@000040000@000000000000001H0`00
4P40000000000000F0<00181000T000090000000P3l0000000000000P3oTW3E4Z7h/@`80000<0000
40000000000000002P0001000000000000000580001`0@000@0008_oool0000000000000002@0@00
000000@012930640K01Y0680LP1Y00000000000000000000`>L[@@00000000000000000000000000
000000000030ib]100010000001=0000000002SQC`0A0000100009SWC`1HhTl0@:2`Me6]Ro_noooo
`>5?0<n`[7ML0P00J0800=P3nPT00020W5DdMele=7F=?R7eG>5?0060001_=CAe0000000000000000
00000:PEmhj<hDl0j0/dMHdn8OD00240SChQmHdn000LhTl0]WhbMB`I003XhDl0h5?j2LcSC`090000
0P000000003BKK5g;1T402`I10@000@0003oob`I1?ooooooo0X000@4101T000000000521nPWP2Zl0
C>9?0>`g9gKPDoX9;1T410T000000000100006Af00P000009@0000`0000100005P0000`0000H0000
4P0000`000010000600000`000000002E00005@0003F0P00?P000103003;00000P00000000000000
0000000000010000C00000000000000000000?ooooooooooD0000380H>0k00009@0000`0000>0020
:00000`0000100008P0000`0003oooooAP000<`000300000ADe6:bY0000T000060000000P3l00000
00000000P3l00000000002Y0000T000060000000P3l0000000000000P3l00000000002I0000@0000
10000000000U@000400000@0000000007d0300`0000000007T0900`0000000008D0700`000000000
:T0002@0000H00000020?`00000000000020?i0MS4:XORa3140000`0000000008@0000P0000L0000
200004/000100000<00000D0000P00000@000040000@000000000000001H0`004P40000000000000
F0<00181000T000090000000P3l0000000000000P3n@7Ha2Z7h/@`80000<00004000000000000000
2P0001000000000000000580001`0@000@0008_oool0000000000000002@0@00000000@012930640
K01Y0680LP1Y00000000000000000000`>L[@@00000000000000000000000000000000000030ib]1
00010000001=0000000005@0000A0000SChQm@00001HhTl0@:2`Me6]Ro_noooo`>5?0<n`[7ML0P00
J0800=P3nPT00000W5DdMele=7F=?R7eG>5?0060001_=CAe000000000000000000000:PEmhj<hDl0
j0/dMHdn8OD00240SChQmHdn000LhTl0]WhbMFYg003XhDl0h5?j2LcSC`0900000P000000003BKK5g
JWOo06Yg1?l000@0003oofYgooooooooo0X000Co101T000000000521nPUX2Zl0C>9?0>`g9gKPDoX9
JWL4o`T000000000100006Af00P000009@0000`0000100005P0000`0000H00004P0000`000010000
600000`000000002E00005@000160000?P000800003;00000P000000000000000000000000010000
C00000000000000000000?ooooooooooD0000340Z/Hk00009@0000`0000>0020:00000`000010000
8P0000`0003oooooAP0008`000200000ADe6:bY0000T000060000000P3l0000000000000P3l00000
000002Y0000T000060000000P3l0000000000000P3l00000000002I0000@0000100000000008@0@4
600000`000024<3K000000<0010d@0@030000000000Q000020000680000<00000@0004`0001T0000
X0000000002i0P0030400:00000000006P8000d1000Y0:X0000000000000080o000000000000080o
0000000000000000000000000000000000000000000R000030000?oooom60000700001000015CDH[
0T0000`0000000003P0001@000000000400001@0
\>"], "Graphics",
  GeneratedCell->False,
  CellAutoOverwrite->False,
  ImageSize->{234., 75.15328467153284},
  ImageMargins->{{0, 0}, {0, 80}}]
}], "Text",
 CellChangeTimes->{{3.8050222996074395`*^9, 3.8050223969109397`*^9}, {
  3.8050228848734484`*^9, 3.8050229142901974`*^9}, {3.8056281158824916`*^9, 
  3.8056281567183695`*^9}},
 ExpressionUUID -> "f6eb8ea4-3f8b-4501-a6f3-e907612579a4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"inputParameters", " ", "=", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "Bf", ",", ".528", ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<B, ISO critical pressure ratio\>\""}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"Cf", ",", 
       RowBox[{"1.", " ", 
        SuperscriptBox["10", 
         RowBox[{"-", "14"}]]}], ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<C, ISO flow coefficient\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "p0", ",", "100000.", ",", "double", ",", "\"\<Pa\>\"", ",", 
       "\"\<Nominal pressure\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "T0", ",", "297.", ",", "double", ",", "\"\<K\>\"", ",", 
       "\"\<Nominal temperature\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "R", ",", "287.", ",", "double", ",", "\"\<J/Kg K\>\"", ",", 
       "\"\<Gas constant\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "cv", ",", "718", ",", "double", ",", "\"\<J/Kg K\>\"", ",", 
       "\"\<heatcoeff\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "eps", ",", "0.02", ",", "double", ",", "\"\<\>\"", ",", 
       "\"\<Linearisation coeff\>\""}], "}"}]}], "\[IndentingNewLine]", 
    "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.535370565329912*^9, 3.5353705653455253`*^9}, {
   3.535370598980867*^9, 3.535370607569777*^9}, {3.535370682449456*^9, 
   3.535370772725971*^9}, 3.5355279035625*^9, {3.572017994427971*^9, 
   3.5720180086697855`*^9}, {3.8036340991916904`*^9, 
   3.8036341013614497`*^9}, {3.8036341945389094`*^9, 3.80363421103648*^9}, 
   3.8049202878021173`*^9, {3.8051026419347734`*^9, 3.8051027813361006`*^9}, {
   3.8051065325066023`*^9, 3.8051065510516195`*^9}, {3.805107393878266*^9, 
   3.805107447216238*^9}, {3.8056237387208996`*^9, 3.8056237519422646`*^9}, {
   3.8056240840007424`*^9, 3.8056240846780434`*^9}},
 ExpressionUUID -> "303be765-e9fc-44f7-94b5-8b137bbc4f2a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"outputVariables", " ", "=", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "qmP", ",", "0.", ",", "double", ",", "\"\<kg/s\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
      "qmN", ",", "0.", ",", "double", ",", "\"\<kg/s\>\"", ",", 
       "\"\<Internal variable\>\""}], "}"}]}], "\[IndentingNewLine]", "}"}]}],
   ";"}]], "Input",
 CellChangeTimes->{{3.626786893484127*^9, 3.626786931443923*^9}, 
   3.803813598174629*^9, 3.8038136341521225`*^9, {3.803813938162367*^9, 
   3.8038139603247657`*^9}},
 ExpressionUUID -> "1547f96f-2227-4719-9bd2-75f498556134"],

Cell[BoxData[
 RowBox[{
  RowBox[{"nodeConnections", " ", "=", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"PneumaticQnode", "[", 
      RowBox[{"1", ",", "100000.", ",", "\"\<fluid port 1 \>\""}], "]"}], ",",
      "\[IndentingNewLine]", 
     RowBox[{"PneumaticQnode", "[", 
      RowBox[{"2", ",", "100000.", ",", "\"\<fluid port 2 \>\""}], "]"}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.535370789690829*^9, 3.5353707897064214`*^9}, 
   3.53552777309375*^9, {3.535542211390625*^9, 3.535542214078125*^9}, {
   3.535542265921875*^9, 3.535542311625*^9}, {3.5684508318796263`*^9, 
   3.5684508487293115`*^9}, {3.5684511750240593`*^9, 
   3.5684511760840592`*^9}, {3.5720179665203743`*^9, 3.572017974399825*^9}, {
   3.804870580037386*^9, 3.8048705810893*^9}, {3.8050228255901237`*^9, 
   3.805022852714327*^9}},
 ExpressionUUID -> "6f4571d4-b6a4-450e-bd7d-4695ea7860b0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["The system of equations", "Subsection",
 Evaluatable->False,
 PageBreakAbove->False,ExpressionUUID->"c5571497-8955-4b3c-beda-9786edc2a9aa"],

Cell["The input signal is limited between 0 and 1.", "Text",
 CellChangeTimes->{{3.8036342377161274`*^9, 3.803634252753645*^9}, {
  3.804925406473482*^9, 
  3.80492543148868*^9}},ExpressionUUID->"6e2cb804-6aa4-45d1-a7a6-\
46ac2e220b0e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Cfe", "=", "Cf"}], " ", ";"}]], "Input",
 CellChangeTimes->{{3.8049253628774543`*^9, 3.804925377947908*^9}, {
   3.8051070382200217`*^9, 3.805107097045391*^9}, 3.8056150177300262`*^9},
 ExpressionUUID -> "55646062-94a5-41cc-849f-bcc54828c5f4"],

Cell["\<\
The flow at inlet and outlet are equal but with opposite sign.\
\>", "Text",
 CellChangeTimes->{{3.803634260546183*^9, 
  3.8036342655113525`*^9}},ExpressionUUID->"fbc6ac93-5130-4905-8ff0-\
27a02bcad99f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qm1e", " ", "=", " ", 
   RowBox[{"-", "qm2"}]}], ";"}]], "Input",
 CellChangeTimes->{3.516357397796875*^9, 3.51635748325*^9, 
  3.516358905203125*^9, 3.57201794738328*^9, 3.804870595079869*^9, 
  3.8048706405459685`*^9},
 ExpressionUUID -> "d976e54a-4170-4f37-bfba-e3f490adac4e"],

Cell[BoxData[
 RowBox[{"NgPos", ":=", " ", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p2", "p1"], "-", "Bf"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "Bf"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Input",
 CellChangeTimes->{{3.516362438390625*^9, 3.51636243934375*^9}, {
   3.51636253609375*^9, 3.5163625365625*^9}, 3.568457441890836*^9, 
   3.62669625404884*^9, {3.804870597654211*^9, 3.804870598075777*^9}, {
   3.8048706421083584`*^9, 3.8048706425229297`*^9}, {3.8051020828316708`*^9, 
   3.805102167355263*^9}, {3.805102202608164*^9, 3.805102206949346*^9}, 
   3.805102581388358*^9, 3.8051069502531605`*^9, {3.8051070512545753`*^9, 
   3.805107053239428*^9}, {3.805107099392397*^9, 3.8051071016797934`*^9}, {
   3.8051078304575377`*^9, 3.8051078309732428`*^9}},
 ExpressionUUID -> "69eb25fb-64a8-481b-be69-3cbd617e7f33"],

Cell[BoxData[
 RowBox[{"NgNeg", ":=", 
  RowBox[{"(", 
   RowBox[{"signedSquareL", "[", 
    RowBox[{
     RowBox[{"1", "-", 
      FractionBox[
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          FractionBox["p1", "p2"], "-", "Bf"}], ")"}], "2"], 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{"1", "-", "Bf"}], ")"}], "2"]]}], ",", "eps"}], "]"}], 
   ")"}]}]], "Input",
 CellChangeTimes->{{3.51636244103125*^9, 3.5163624414375*^9}, {
   3.5163625370625*^9, 3.51636253753125*^9}, 3.568457440183836*^9, 
   3.6266962555059853`*^9, {3.8048705985063334`*^9, 3.8048705989518795`*^9}, {
   3.804870643127306*^9, 3.804870643450972*^9}, {3.80510218636352*^9, 
   3.8051022172602854`*^9}, 3.805102583314555*^9, 3.8051069467788057`*^9, {
   3.8051070550740027`*^9, 3.8051070563107834`*^9}, {3.8051071029180803`*^9, 
   3.8051071048091946`*^9}, {3.8051078356062007`*^9, 3.805107836512684*^9}},
 ExpressionUUID -> "6ce8645e-54fb-4320-a9d4-24caa7bf0e37"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Ng", ":=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"onPositive", "[", 
      RowBox[{"p1", "-", "p2"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p2", "p1"], "-", "Bf"}], "]"}], "NgPos"}], " ", "+", 
       " ", 
       RowBox[{"onNegative", "[", 
        RowBox[{
         FractionBox["p2", "p1"], "-", "Bf"}], "]"}]}], " ", ")"}]}], "+", 
    " ", 
    RowBox[{
     RowBox[{"onNegative", "[", 
      RowBox[{"p1", "-", "p2"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"onPositive", "[", 
         RowBox[{
          FractionBox["p1", "p2"], "-", "Bf"}], "]"}], "NgNeg"}], " ", "+", 
       " ", 
       RowBox[{"onNegative", "[", 
        RowBox[{
         FractionBox["p1", "p2"], "-", "Bf"}], "]"}]}], " ", ")"}]}]}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.5163624423125*^9, 3.51636244390625*^9}, {
  3.51636253840625*^9, 3.516362539765625*^9}, {3.535528086984375*^9, 
  3.535528088671875*^9}, {3.5355281776875*^9, 3.535528179484375*^9}, {
  3.568456986935499*^9, 3.568457000885894*^9}, {3.568457185341836*^9, 
  3.568457191564836*^9}, {3.568458824569253*^9, 3.5684588327220683`*^9}, {
  3.6266947414768467`*^9, 3.6266947420358467`*^9}, {3.804870599549257*^9, 
  3.804870602056671*^9}, {3.8048706441562443`*^9, 3.80487064684647*^9}, {
  3.8051023539673*^9, 3.8051023604766397`*^9}, {3.805107841185725*^9, 
  3.8051078460746803`*^9}, {3.8056150485602245`*^9, 3.8056150501685653`*^9}},
 ExpressionUUID -> "e0127e99-91a2-4c82-a16d-b7d33e10c829"],

Cell["Expressions that are evaluated before the system equations", "Text",
 CellChangeTimes->{{3.5720181646087046`*^9, 3.572018175085304*^9}, {
  3.80502217704597*^9, 
  3.8050221984089465`*^9}},ExpressionUUID->"a2916a4d-8fbb-4d1c-8b7e-\
bcd550214e3b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"localExpressions", " ", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{"cp", "==", 
     RowBox[{"cv", "+", "R"}]}], "\[IndentingNewLine]", "}"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{
  3.4458556656834745`*^9, {3.535528705078125*^9, 3.5355287096875*^9}, {
   3.572017731163913*^9, 3.5720178003058677`*^9}, {3.6266954587713203`*^9, 
   3.6266954813855815`*^9}, {3.6266956813155727`*^9, 
   3.6266957169681373`*^9}, {3.626695850528492*^9, 3.626695939328371*^9}, {
   3.6267882846603336`*^9, 3.626788286066334*^9}, 3.805100959117752*^9, {
   3.80510252986307*^9, 3.8051025384280434`*^9}, {3.805102597251624*^9, 
   3.8051025994018755`*^9}, {3.805106581676327*^9, 3.805106612621895*^9}},
 ExpressionUUID -> "3dce3a4d-0f1b-4201-a446-f7764743c02d"]
}, Open  ]],

Cell[CellGroupData[{

Cell["The system of equations", "Subsection",
 CellChangeTimes->{{3.8050222130113287`*^9, 3.805022233768586*^9}, {
  3.805022272779731*^9, 
  3.8050222754172983`*^9}},ExpressionUUID->"3a0715e6-17b5-4eaf-9bf8-\
3c55a8691acc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"systemEquationsDA", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"qmP", "==", 
       RowBox[{"Cfe", " ", "p1", " ", "p0", " ", 
        SqrtBox[
         FractionBox["T0", "T1"]], "Ng"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"qmN", "==", 
       RowBox[{"Cfe", " ", "p2", " ", "p0", " ", 
        SqrtBox[
         FractionBox["T0", "T2"]], "Ng"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"qm2", "==", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"onPositive", "[", 
           RowBox[{"p1", "-", "p2"}], "]"}], " ", "qmP"}], " ", "-", " ", 
         RowBox[{
          RowBox[{"onNegative", "[", 
           RowBox[{"p1", "-", "p2"}], "]"}], " ", "qmN"}]}], ")"}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"dE1", "\[Equal]", 
       RowBox[{"qm1e", " ", "cp", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"onNegative", "[", "qm1e", "]"}], " ", "T1"}], "+", 
          RowBox[{
           RowBox[{"onPositive", "[", "qm1e", "]"}], " ", "T2"}]}], ")"}]}]}],
       ",", "\[IndentingNewLine]", 
      RowBox[{"dE2", "\[Equal]", 
       RowBox[{"qm2", " ", "cp", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"onNegative", "[", "qm2", "]"}], " ", "T2"}], "+", 
          RowBox[{
           RowBox[{"onPositive", "[", "qm2", "]"}], " ", "T1"}]}], 
         ")"}]}]}]}], "\[IndentingNewLine]", "\t", "}"}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.516357230546875*^9, 3.51635723375*^9}, {
   3.516357406265625*^9, 3.51635741015625*^9}, {3.516357489421875*^9, 
   3.5163574921875*^9}, {3.516358561203125*^9, 3.5163585623125*^9}, {
   3.5163588638125*^9, 3.516358872546875*^9}, 3.5163622335*^9, 
   3.516362283375*^9, 3.516362316140625*^9, {3.516362447*^9, 
   3.51636244796875*^9}, {3.51636254234375*^9, 3.516362542796875*^9}, {
   3.53552809378125*^9, 3.53552809640625*^9}, {3.535528183453125*^9, 
   3.53552818775*^9}, {3.5684570204198475`*^9, 3.568457022761081*^9}, {
   3.5684570541492195`*^9, 3.5684570555233574`*^9}, {3.5684589588056755`*^9, 
   3.5684589653553305`*^9}, {3.5720176679082947`*^9, 3.572017683947212*^9}, 
   3.5720179338355055`*^9, {3.626691880745544*^9, 3.6266918864211116`*^9}, 
   3.6266931723286896`*^9, {3.6266937584923*^9, 3.6266939161240616`*^9}, 
   3.626694036263074*^9, 3.6266946351268463`*^9, {3.6266948812055693`*^9, 
   3.626694912361685*^9}, {3.626786603246106*^9, 3.6267866300827894`*^9}, {
   3.6267867846422443`*^9, 3.6267868052153015`*^9}, {3.803813600915059*^9, 
   3.803813601819543*^9}, {3.8038136362489204`*^9, 3.803813637479523*^9}, {
   3.8038139397390347`*^9, 3.803813963431733*^9}, {3.804870603428256*^9, 
   3.804870608550976*^9}, {3.8048706479862947`*^9, 3.8048706539751167`*^9}, {
   3.8051018590919285`*^9, 3.805101871172864*^9}, {3.8051025029496346`*^9, 
   3.8051025710403767`*^9}, 3.8051029080936794`*^9, 3.805102965743308*^9, {
   3.805107119679675*^9, 3.805107124187194*^9}},
 ExpressionUUID -> "cc01b7ab-0e24-4eb8-94a2-02519e9b1d7d"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Boundaries", "Subsection",
 CellChangeTimes->{{3.805017881102742*^9, 
  3.8050178817381773`*^9}},ExpressionUUID->"c9b83533-6c3b-4ba2-8e82-\
200441668409"],

Cell[BoxData[
 RowBox[{
  RowBox[{"systemBoundaryEquations", " ", "=", " ", 
   RowBox[{"{", " ", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"p1", " ", "==", 
      RowBox[{"(", 
       RowBox[{"c1", " ", "+", " ", 
        RowBox[{"Zc1", " ", "dE1"}]}], " ", ")"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"p2", " ", "==", 
      RowBox[{"(", 
       RowBox[{"c2", " ", "+", " ", 
        RowBox[{"Zc2", " ", "dE2"}]}], " ", ")"}]}]}], "\[IndentingNewLine]", 
    "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.535370830684037*^9, 3.535370830684037*^9}, {
   3.572017824436248*^9, 3.5720178479275913`*^9}, 3.8036343375137377`*^9, {
   3.8048706095009923`*^9, 3.8048706108246264`*^9}, {3.8048706549251366`*^9, 
   3.8048706590878425`*^9}},
 ExpressionUUID -> "096b47ac-1067-49dc-aae2-345c4e0b0101"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Independent  Variables", "Subsection",
 CellChangeTimes->{{3.6267881656593337`*^9, 
  3.6267881959573336`*^9}},ExpressionUUID->"7aee13e0-4e61-4e17-a44c-\
47e7f85d055c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"systemVariables", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
    "qmP", ",", "qmN", ",", "qm2", ",", "dE1", ",", "dE2", ",", "p1", ",", 
     "p2"}], "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.572018112971751*^9, 3.5720181129797516`*^9}, {
   3.626786645653346*^9, 3.6267866499337745`*^9}, 3.803813603425622*^9, 
   3.803813638726808*^9, {3.8038139419706807`*^9, 3.8038139645842676`*^9}, {
   3.8048706117336893`*^9, 3.804870612207202*^9}, {3.804870660238655*^9, 
   3.804870662382444*^9}},
 ExpressionUUID -> "45defc9d-8919-4035-bddf-612495a3adc0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Expressions", "Subsection",ExpressionUUID->"10c249fb-6d63-498e-a531-ba636643e74d"],

Cell["\<\
The inlet flow is calculated as the outlet flow with reversed sign.\
\>", "Text",ExpressionUUID->"42d118ef-f168-49d8-a2d9-b82ec1237dcd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"expressions", " ", "=", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{"qm1", "==", 
     RowBox[{"-", "qm2"}]}], "\[IndentingNewLine]", "}"}]}], ";"}]], "Input",
 CellChangeTimes->{3.804870613309064*^9, 3.8048706633414555`*^9},
 ExpressionUUID -> "52249328-bf8f-4534-9a6e-18460255eed0"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.5353708746398582`*^9, 3.535370878803109*^9}, {
   3.5720178526758633`*^9, 3.572017860102288*^9}, 3.5720180575065784`*^9, 
   3.626788084646427*^9},
 ExpressionUUID -> "dd6ace65-5d77-4186-8ecc-49603183992f"],

Cell[BoxData[
 RowBox[{"Compgen", "[", "file", "]"}]], "Input",
 ExpressionUUID -> "4645ae3b-f450-4172-8e7e-c2b40bd2cd1b"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{834, 654},
WindowMargins->{{Automatic, 278}, {-107, Automatic}},
PrintingCopies->1,
PrintingPageRange->{32000, 32000},
PrintingOptions->{"Magnification"->1.,
"PaperOrientation"->"Portrait",
"PaperSize"->{595.1999999999999, 841.92}},
PrivateNotebookOptions->{"VersionedStylesheet"->{"Default.nb"[8.] -> False}},
FrontEndVersion->"11.0 for Microsoft Windows (64-bit) (September 21, 2016)",
StyleDefinitions->"Default.nb",
ExpressionUUID -> "bcfbf610-8227-47f4-be14-4caaccf4f9b9"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 335, 5, 70, "Section"],
Cell[917, 29, 355, 6, 30, "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[1275, 37, 533, 12, 50, "Input"],
Cell[1811, 51, 814, 15, 50, "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[CellGroupData[{
Cell[2650, 70, 1617, 35, 183, "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.}],
Cell[4270, 107, 1393, 22, 30, "Output",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.}],
Cell[5666, 131, 255, 5, 30, "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10001.}]
}, Closed]],
Cell[CellGroupData[{
Cell[5958, 141, 98, 0, 41, "Subsection"],
Cell[6059, 143, 8815, 115, 137, "Text"],
Cell[14877, 260, 2139, 46, 196, "Input"],
Cell[17019, 308, 721, 17, 88, "Input"],
Cell[17743, 327, 935, 18, 88, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[18715, 350, 145, 2, 49, "Subsection",
 Evaluatable->False,
 PageBreakAbove->False],
Cell[18863, 354, 236, 4, 30, "Text"],
Cell[19102, 360, 278, 5, 30, "Input"],
Cell[19383, 367, 214, 5, 30, "Text"],
Cell[19600, 374, 315, 7, 30, "Input"],
Cell[19918, 383, 1034, 23, 74, "Input"],
Cell[20955, 408, 981, 22, 74, "Input"],
Cell[21939, 432, 1617, 41, 94, "Input"],
Cell[23559, 475, 252, 4, 30, "Text"],
Cell[23814, 481, 793, 15, 69, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[24644, 501, 224, 4, 49, "Subsection"],
Cell[24871, 507, 3111, 64, 229, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[28019, 576, 160, 3, 49, "Subsection"],
Cell[28182, 581, 816, 19, 88, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[29035, 605, 174, 3, 49, "Subsection"],
Cell[29212, 610, 592, 12, 30, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[29841, 627, 88, 0, 49, "Subsection"],
Cell[29932, 629, 146, 2, 30, "Text"],
Cell[30081, 633, 333, 7, 69, "Input"],
Cell[30417, 642, 255, 4, 30, "Input"],
Cell[30675, 648, 122, 2, 30, "Input"]
}, Open  ]]
}, Open  ]]
}
]
*)

